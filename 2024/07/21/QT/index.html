<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Qt | FY的博客</title><meta name="author" content="二马山石"><meta name="copyright" content="二马山石"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. GUI程序">
<meta property="og:type" content="article">
<meta property="og:title" content="Qt">
<meta property="og:url" content="https://fylhg.github.io/github.fy/2024/07/21/QT/index.html">
<meta property="og:site_name" content="FY的博客">
<meta property="og:description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. GUI程序">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://t8.baidu.com/it/u=4067589254,2956208776&fm=193">
<meta property="article:published_time" content="2024-07-21T05:50:00.611Z">
<meta property="article:modified_time" content="2024-07-28T09:47:38.792Z">
<meta property="article:author" content="二马山石">
<meta property="article:tag" content="Qt">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://t8.baidu.com/it/u=4067589254,2956208776&fm=193"><link rel="shortcut icon" href="/github.fy/img/favicon.png"><link rel="canonical" href="https://fylhg.github.io/github.fy/2024/07/21/QT/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/github.fy/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/github.fy/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Qt',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-07-28 17:47:38'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/github.fy/img/1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/github.fy/archives/"><div class="headline">文章</div><div class="length-num">16</div></a><a href="/github.fy/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/github.fy/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/github.fy/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/github.fy/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/github.fy/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/github.fy/link/"><i class="fa-fw fas fa-link"></i><span> 连接</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://t8.baidu.com/it/u=4067589254,2956208776&amp;fm=193')"><nav id="nav"><span id="blog-info"><a href="/github.fy/" title="FY的博客"><img class="site-icon" src="/github.fy/img/1.jpg"/><span class="site-name">FY的博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/github.fy/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/github.fy/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/github.fy/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/github.fy/link/"><i class="fa-fw fas fa-link"></i><span> 连接</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Qt</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-21T05:50:00.611Z" title="发表于 2024-07-21 13:50:00">2024-07-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-07-28T09:47:38.792Z" title="更新于 2024-07-28 17:47:38">2024-07-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/github.fy/categories/Qt/">Qt</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Qt"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="GUI程序结构和运行机制"><a href="#GUI程序结构和运行机制" class="headerlink" title="GUI程序结构和运行机制"></a>GUI程序结构和运行机制</h2><p>新建一个Widget项目：QWidget作为窗口的基类，选中Generate form复选框<br><img src="/github.fy/Qt/3.png"><br><strong>项目管理文件：后缀为,pro</strong><br><img src="/github.fy/Qt/4.png"><br><img src="/github.fy/Qt/5.png"></p>
<h2 id="Qt构建项目的基本原理"><a href="#Qt构建项目的基本原理" class="headerlink" title="Qt构建项目的基本原理"></a>Qt构建项目的基本原理</h2><p><img src="/github.fy/Qt/6.png"></p>
<h2 id="代码化Ui设计"><a href="#代码化Ui设计" class="headerlink" title="代码化Ui设计"></a>代码化Ui设计</h2><p><img src="/github.fy/Qt/1.png"><br>功能实现：</p>
<ul>
<li>Dialog类中的private封装用来维护组件的指针，具体的在堆区创建则在cpp中封装的构造函数中实现</li>
<li>Dialog类中，Qt有自己独特的用来定义私有槽函数的private slots:函数</li>
<li>可以在Dialog中直接写界面，也可以封装成一个函数，保存在类中。（这样的代码风格更好）<br>代码：<br>dialog.h<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> DIALOG_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DIALOG_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDialog&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QCheckBox</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QPlainTextEdit</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QPushButton</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QRadioButton</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dialog</span> : <span class="keyword">public</span> QDialog</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QCheckBox *chkBoxUnder;<span class="comment">//定义了一系列的元对象指针</span></span><br><span class="line">    QCheckBox *chkBoxItalic;</span><br><span class="line">    QCheckBox *chkBoxBold;</span><br><span class="line"></span><br><span class="line">    QRadioButton *radioBlack;</span><br><span class="line">    QRadioButton *radioRed;</span><br><span class="line">    QRadioButton *radioBlue;</span><br><span class="line"></span><br><span class="line">    QPlainTextEdit *txtEdit;</span><br><span class="line"></span><br><span class="line">    QPushButton *btnOk;</span><br><span class="line">    QPushButton *btnCancel;</span><br><span class="line">    QPushButton *btnClose;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">checkBoxUnder</span><span class="params">(<span class="type">bool</span> checked)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">checkBoxBold</span><span class="params">(<span class="type">bool</span> checked)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">checkBoxItalic</span><span class="params">(<span class="type">bool</span> checked)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setPalette</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Dialog</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Dialog</span>();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// DIALOG_H</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
dialog.cpp<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;dialog.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QHBoxLayout&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QVBoxLayout&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QCheckBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QPlainTextEdit&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QPushButton&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QRadioButton&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dialog::checkBoxUnder</span><span class="params">(<span class="type">bool</span> checked)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QFont font = txtEdit-&gt;<span class="built_in">font</span>();</span><br><span class="line">    font.<span class="built_in">setUnderline</span>(checked);</span><br><span class="line">    txtEdit-&gt;<span class="built_in">setFont</span>(font);</span><br><span class="line">    <span class="comment">//创建好槽函数然后你得用connect关联</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dialog::checkBoxBold</span><span class="params">(<span class="type">bool</span> checked)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QFont font = txtEdit-&gt;<span class="built_in">font</span>();</span><br><span class="line">    font.<span class="built_in">setBold</span>(checked);</span><br><span class="line">    txtEdit-&gt;<span class="built_in">setFont</span>(font);</span><br><span class="line">    <span class="comment">//创建好槽函数然后你得用connect关联</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dialog::checkBoxItalic</span><span class="params">(<span class="type">bool</span> checked)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QFont font = txtEdit-&gt;<span class="built_in">font</span>();</span><br><span class="line">    font.<span class="built_in">setItalic</span>(checked);</span><br><span class="line">    txtEdit-&gt;<span class="built_in">setFont</span>(font);</span><br><span class="line">    <span class="comment">//创建好槽函数然后你得用connect关联</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dialog::setPalette</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QPalette palette = txtEdit-&gt;<span class="built_in">palette</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(radioBlack-&gt;<span class="built_in">isChecked</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        palette.<span class="built_in">setColor</span>(QPalette::Text,Qt::black);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(radioRed-&gt;<span class="built_in">isChecked</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        palette.<span class="built_in">setColor</span>(QPalette::Text,Qt::red);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(radioBlue-&gt;<span class="built_in">isChecked</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        palette.<span class="built_in">setColor</span>(QPalette::Text,Qt::blue);</span><br><span class="line">    &#125;</span><br><span class="line">    txtEdit-&gt;<span class="built_in">setPalette</span>(palette);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dialog::<span class="built_in">Dialog</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QDialog</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//创建多选框</span></span><br><span class="line">    chkBoxUnder = <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;下划线&quot;</span>);</span><br><span class="line">    chkBoxItalic = <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;倾斜&quot;</span>);</span><br><span class="line">    chkBoxBold = <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;加粗&quot;</span>);</span><br><span class="line">    <span class="comment">//给多选框设置水平布局</span></span><br><span class="line">    QHBoxLayout *Hlayl = <span class="keyword">new</span> <span class="built_in">QHBoxLayout</span>();</span><br><span class="line">    Hlayl-&gt;<span class="built_in">addWidget</span>(chkBoxUnder);</span><br><span class="line">    Hlayl-&gt;<span class="built_in">addWidget</span>(chkBoxItalic);</span><br><span class="line">    Hlayl-&gt;<span class="built_in">addWidget</span>(chkBoxBold);</span><br><span class="line">    <span class="comment">//创建单选框</span></span><br><span class="line">    radioBlack = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;黑色&quot;</span>);</span><br><span class="line">    radioRed = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;红色&quot;</span>);</span><br><span class="line">    radioBlue = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;蓝色&quot;</span>);</span><br><span class="line">    QHBoxLayout *Hlayl1 = <span class="keyword">new</span> <span class="built_in">QHBoxLayout</span>();</span><br><span class="line">    Hlayl1-&gt;<span class="built_in">addWidget</span>(radioBlack);</span><br><span class="line">    Hlayl1-&gt;<span class="built_in">addWidget</span>(radioRed);</span><br><span class="line">    Hlayl1-&gt;<span class="built_in">addWidget</span>(radioBlue);</span><br><span class="line">    <span class="comment">//创建文本矿</span></span><br><span class="line">    txtEdit = <span class="keyword">new</span> <span class="built_in">QPlainTextEdit</span>();</span><br><span class="line">    txtEdit-&gt;<span class="built_in">setPlainText</span>(<span class="string">&quot;手工创建Qt6!!!&quot;</span>);</span><br><span class="line">    QFont font = txtEdit-&gt;<span class="built_in">font</span>();</span><br><span class="line">    font.<span class="built_in">setPointSize</span>(<span class="number">20</span>);<span class="comment">//设置了字体但是还需要启用才可以</span></span><br><span class="line">    txtEdit-&gt;<span class="built_in">setFont</span>(font);<span class="comment">//txtEdit是QPlainTextEdit的一个指针，类中有方法setFont接受一个QFont的引用对文本框的字体进行设计</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建三个按钮</span></span><br><span class="line">    btnOk = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;确认&quot;</span>);</span><br><span class="line">    btnOk-&gt;<span class="built_in">setFixedSize</span>(<span class="number">200</span>,<span class="number">50</span>);</span><br><span class="line">    btnCancel = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;取消&quot;</span>);</span><br><span class="line">    btnCancel-&gt;<span class="built_in">setFixedSize</span>(<span class="number">200</span>,<span class="number">50</span>);</span><br><span class="line">    btnClose = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;关闭&quot;</span>);</span><br><span class="line">    btnClose-&gt;<span class="built_in">setFixedSize</span>(<span class="number">200</span>,<span class="number">50</span>);</span><br><span class="line">    QHBoxLayout *Hlayl2 = <span class="keyword">new</span> <span class="built_in">QHBoxLayout</span>();<span class="comment">//这三个按键水平布局，Hlayl2就是他们三个的布局</span></span><br><span class="line">    Hlayl2-&gt;<span class="built_in">addWidget</span>(btnOk);</span><br><span class="line">    Hlayl2-&gt;<span class="built_in">addStretch</span>(<span class="number">1</span>);<span class="comment">//调节空白区域的比例</span></span><br><span class="line">    Hlayl2-&gt;<span class="built_in">addWidget</span>(btnClose);</span><br><span class="line">    Hlayl2-&gt;<span class="built_in">addStretch</span>(<span class="number">1</span>);</span><br><span class="line">    Hlayl2-&gt;<span class="built_in">addWidget</span>(btnCancel);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//将上面四部分垂直布局</span></span><br><span class="line">    QVBoxLayout *Vlayl = <span class="keyword">new</span> <span class="built_in">QVBoxLayout</span>();</span><br><span class="line">    Vlayl-&gt;<span class="built_in">addLayout</span>(Hlayl);</span><br><span class="line">    Vlayl-&gt;<span class="built_in">addLayout</span>(Hlayl1);</span><br><span class="line">    Vlayl-&gt;<span class="built_in">addWidget</span>(txtEdit);</span><br><span class="line">    Vlayl-&gt;<span class="built_in">addLayout</span>(Hlayl2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//启用布局</span></span><br><span class="line">    <span class="built_in">setLayout</span>(Vlayl);<span class="comment">//Vlayl中已经存有Hlayl等的布局信息，所以只设置它就可以</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(chkBoxUnder,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">checkBoxUnder</span>(<span class="type">bool</span>)));</span><br><span class="line">    <span class="built_in">connect</span>(chkBoxBold,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">checkBoxBold</span>(<span class="type">bool</span>)));</span><br><span class="line">    <span class="built_in">connect</span>(chkBoxItalic,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">checkBoxItalic</span>(<span class="type">bool</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//给单选框设置信号和槽的关联</span></span><br><span class="line">    <span class="built_in">connect</span>(radioBlack,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">setPalette</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(radioRed,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">setPalette</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(radioBlue,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">setPalette</span>()));</span><br><span class="line">    <span class="comment">//给按键绑定</span></span><br><span class="line">    <span class="built_in">connect</span>(btnOk,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">accept</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(btnCancel,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">reject</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(btnClose,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">close</span>()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Dialog::~<span class="built_in">Dialog</span>() &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="CMake构建项目"><a href="#CMake构建项目" class="headerlink" title="CMake构建项目"></a>CMake构建项目</h3><p><img src="/github.fy/Qt/2.png"><br>CMakeLists.txt的内容一般不需要我们手动修改，项目中新增文件的时候会自动更新文件列表，<br>只有用到某个模块的时候，才需要编写find_package()和target_link_libraries()<br>CMakeLists.txt文件：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">project</span>(samp5 VERSION <span class="number">0.1</span> LANGUAGES CXX)</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(CMAKE_AUTOUIC ON) # UIC能被自动执行</span><br><span class="line"><span class="built_in">set</span>(CMAKE_AUTOMOC ON) # MOC能被自动执行</span><br><span class="line"><span class="built_in">set</span>(CMAKE_AUTORCC ON) # RCC能被自动执行</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>) # 设置编译器需要满足C++语言标准，设为<span class="number">17</span></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON) # 要求编译满足C++标准</span><br><span class="line"></span><br><span class="line"><span class="built_in">find_package</span>(QT NAMES Qt6 Qt5 REQUIRED COMPONENTS Widgets)</span><br><span class="line"><span class="built_in">find_package</span>(Qt$&#123;QT_VERSION_MAJOR&#125; REQUIRED COMPONENTS Widgets)# 导入Qt6::Widgets模块</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(PROJECT_SOURCES# 设置变量等于下面的列表 源文件列表</span><br><span class="line">        main.cpp</span><br><span class="line">        dialog.cpp</span><br><span class="line">        dialog.h</span><br><span class="line">        dialog.ui</span><br><span class="line">        # 如果有资源文件的话在这里添加res.qrc</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>($&#123;QT_VERSION_MAJOR&#125; GREATER_EQUAL <span class="number">6</span>)# 如果是Qt6以上版本</span><br><span class="line">    <span class="built_in">qt_add_executable</span>(samp5            # 创建可执行文件</span><br><span class="line">        MANUAL_FINALIZATION            # 可选参数，手动结束创建目标文件的过程</span><br><span class="line">        $&#123;PROJECT_SOURCES&#125;             # 文件列表来源于变量 PROJECT_SOURCES</span><br><span class="line">    )</span><br><span class="line"># Define target properties <span class="keyword">for</span> Android with Qt <span class="number">6</span> as:</span><br><span class="line">#    <span class="built_in">set_property</span>(TARGET samp5 APPEND PROPERTY QT_ANDROID_PACKAGE_SOURCE_DIR</span><br><span class="line">#                 $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/android)</span><br><span class="line"># For more information, see https:<span class="comment">//doc.qt.io/qt-6/qt-add-executable.html#target-creation</span></span><br><span class="line"><span class="keyword">else</span>()</span><br><span class="line">    <span class="keyword">if</span>(ANDROID)</span><br><span class="line">        <span class="built_in">add_library</span>(samp5 SHARED</span><br><span class="line">            $&#123;PROJECT_SOURCES&#125;</span><br><span class="line">        )</span><br><span class="line"># Define properties <span class="keyword">for</span> Android with Qt <span class="number">5</span> after <span class="built_in">find_package</span>() calls as:</span><br><span class="line"><span class="meta">#    set(ANDROID_PACKAGE_SOURCE_DIR <span class="string">&quot;$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/android&quot;</span>)</span></span><br><span class="line">    <span class="built_in">else</span>()</span><br><span class="line">        <span class="built_in">add_executable</span>(samp5</span><br><span class="line">            $&#123;PROJECT_SOURCES&#125;</span><br><span class="line">        )</span><br><span class="line">    <span class="built_in">endif</span>()</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="built_in">target_link_libraries</span>(samp5 PRIVATE Qt$&#123;QT_VERSION_MAJOR&#125;::Widgets)#加载的模块</span><br><span class="line"></span><br><span class="line"># Qt <span class="keyword">for</span> iOS sets MACOSX_BUNDLE_GUI_IDENTIFIER automatically since Qt <span class="number">6.1</span>.</span><br><span class="line"># If you are developing <span class="keyword">for</span> iOS <span class="keyword">or</span> macOS you should consider setting an</span><br><span class="line"><span class="meta"># explicit, fixed bundle identifier manually though.</span></span><br><span class="line"><span class="keyword">if</span>($&#123;QT_VERSION&#125; VERSION_LESS <span class="number">6.1</span><span class="number">.0</span>)</span><br><span class="line">  <span class="built_in">set</span>(BUNDLE_ID_OPTION MACOSX_BUNDLE_GUI_IDENTIFIER com.example.samp5)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"><span class="built_in">set_target_properties</span>(samp5 PROPERTIES</span><br><span class="line">    $&#123;BUNDLE_ID_OPTION&#125;</span><br><span class="line">    MACOSX_BUNDLE_BUNDLE_VERSION $&#123;PROJECT_VERSION&#125;</span><br><span class="line">    MACOSX_BUNDLE_SHORT_VERSION_STRING $&#123;PROJECT_VERSION_MAJOR&#125;.$&#123;PROJECT_VERSION_MINOR&#125;</span><br><span class="line">    MACOSX_BUNDLE TRUE</span><br><span class="line">    WIN32_EXECUTABLE TRUE</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">include</span>(GNUInstallDirs)</span><br><span class="line"><span class="built_in">install</span>(TARGETS samp5</span><br><span class="line">    BUNDLE DESTINATION .</span><br><span class="line">    LIBRARY DESTINATION $&#123;CMAKE_INSTALL_LIBDIR&#125;</span><br><span class="line">    RUNTIME DESTINATION $&#123;CMAKE_INSTALL_BINDIR&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(QT_VERSION_MAJOR EQUAL <span class="number">6</span>)</span><br><span class="line">    <span class="built_in">qt_finalize_executable</span>(samp5)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="使用cmake-gui生成VS项目"><a href="#使用cmake-gui生成VS项目" class="headerlink" title="使用cmake-gui生成VS项目"></a>使用cmake-gui生成VS项目</h2><p><img src="/github.fy/Qt/7.png"></p>
<h2 id="Qt类库的模块"><a href="#Qt类库的模块" class="headerlink" title="Qt类库的模块"></a>Qt类库的模块</h2><p>Qt类中的模块分为两大类：</p>
<ul>
<li>Qt 基本模块（Qt Essentials）：提供了Qt在所有平台上的基本功能</li>
<li>Qt 附加模块（Qt Add-Ons）:实现一些特定功能的模块<br><img src="/github.fy/Qt/8.png"><br>其他模块都依赖于Qt core模块，使用qmake构建gui项目时，qmake项目配置文件中会自动加入如下代码：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QT += core gui</span><br></pre></td></tr></table></figure>
其他模块一般不会自动加入，需要自行配置<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QT += 模块名字</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Qt中数据类型定义"><a href="#Qt中数据类型定义" class="headerlink" title="Qt中数据类型定义"></a>Qt中数据类型定义</h2><p>数据类型定义：<br><img src="/github.fy/Qt/9.png"></p>
<h2 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h2><p><img src="/github.fy/Qt/10.png"><br><img src="/github.fy/Qt/11.png"></p>
<h2 id="Qt元对象系统"><a href="#Qt元对象系统" class="headerlink" title="Qt元对象系统"></a>Qt元对象系统</h2><p>Qt中引入了元对象系统对标准c++语言进行了拓展。<br><code>概述:</code></p>
<ul>
<li>QObject类是所有元对象系统的类的基类</li>
<li>必须在一个类的开头部分插入Q_OBJECT，才可以使用元对象系统的特性。当MOC发现类中定义了Q_OJECT宏时，会为其生成相应的c++源文件。</li>
<li>元对象编译器（Mata-Object Compiler,MOC）是一个预处理器，现将Qt的特性程序转化为标准的c++程序，在由标准c++编译器进行编译</li>
</ul>
<p><code>QObject类</code></p>
<ul>
<li>元对象(meta object):<strong>每个使用了Q_OBJECT并且继承QObject类都有一个QMetaObject实例</strong>，函数metaObject()可以返回它的指针。</li>
<li>类型信息:QObject的inherits()函数可以判断继承关系。</li>
<li>动态翻译:函数tr()返回一个字符串的翻译版本。</li>
<li>对象树:表示对象间从属关系的树状结构。QObject提供了<strong>parent()、children()、findChildren()等函数</strong>(后面会详细介绍！)。对象树中的某个对象被删除时,它的子对象也将被删除。</li>
<li>信号和槽:对象间的通信机制。</li>
<li><strong>属性系统:可以使用宏Q_PROPERTY定义属性,QObject的setProperty()会设置属性的值或定义动态属性;property函数会返回属性的值。</strong><ul>
<li><code>property(const char*name)</code> 接收一个C风格的字符串参数，用于得到相应类中的属性值（一般加上.toString()转化为字符串打印）</li>
</ul>
</li>
</ul>
<p><code>QMetaObject类</code></p>
<ul>
<li>元对象是对类的描述，包含类的方法、信息、属性等元数据</li>
<li>QObject和QMetaObject提供了一下函数接口，可以获取运行时类型信息，类似标准c++中的RTTI(run time type information)</li>
<li>主要接口函数：<ul>
<li>char *className() 返回这个类的类名称</li>
<li>QMetaObject *superClass() 返回这个类的上层父类的元对象</li>
<li>QMetaClassInfo classInfo(int index) 返回序号为index的一条类信息的元数据，类信息是在类中用宏Q_CLASSINFO定义的一条信息</li>
<li>QMetaProperty property(int index) 返回序号为index的属性的元数据</li>
<li>int indexOfProperty(char*name) 返回名称为name的属性的序号<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QApplication&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//QWidget 继承了 QObject</span></span><br><span class="line">    <span class="comment">//Wideget 继承了 QWidget 并使用了Q_OBJECT宏后会拥有一个MetaObject元对象实例</span></span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line">    QObject *btn = <span class="keyword">new</span> QPushButton;<span class="comment">//btn-&gt;metaObject()是一个指向元对象的指针</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;btn-&gt;<span class="built_in">metaObject</span>()-&gt;<span class="built_in">className</span>();<span class="comment">//className是元对象的方法</span></span><br><span class="line"></span><br><span class="line">    QPushButton *btnPush = <span class="built_in">qobject_cast</span>&lt;QPushButton*&gt;(btn);<span class="comment">//将父类的指针转化为子类</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;btnPush-&gt;<span class="built_in">metaObject</span>()-&gt;<span class="built_in">className</span>();</span><br><span class="line"></span><br><span class="line">    QTimer *timer = <span class="keyword">new</span> QTimer;</span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;timer-&gt;<span class="built_in">inherits</span>(<span class="string">&quot;QTimer&quot;</span>);<span class="comment">//true</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;timer-&gt;<span class="built_in">inherits</span>(<span class="string">&quot;QObject&quot;</span>);<span class="comment">//true</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;timer-&gt;<span class="built_in">inherits</span>(<span class="string">&quot;QPushButton&quot;</span>);<span class="comment">//false</span></span><br><span class="line">    <span class="comment">//superClass返回父类的元对象</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;btn-&gt;<span class="built_in">metaObject</span>()-&gt;<span class="built_in">superClass</span>()-&gt;<span class="built_in">className</span>();</span><br><span class="line">    Widget w;</span><br><span class="line">    w.<span class="built_in">show</span>();</span><br><span class="line">    <span class="keyword">return</span> a.<span class="built_in">exec</span>();<span class="comment">//启动程序，并开启消息循环和事件处理</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="属性系统"><a href="#属性系统" class="headerlink" title="属性系统"></a>属性系统</h3><p><img src="/github.fy/Qt/12.png"></p>
<h3 id="信号与槽"><a href="#信号与槽" class="headerlink" title="信号与槽"></a>信号与槽</h3><p>信号与槽是元对象系统支持的，对象间通信所采取的机制。</p>
<h4 id="connect-函数使用"><a href="#connect-函数使用" class="headerlink" title="connect()函数使用"></a>connect()函数使用</h4><p><img src="/github.fy/Qt/13.png"><br><code>如果信号和槽函数都存在重载的现象，则需要使用qOverLoad&lt;参数类型&gt;进行指定：</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">do_click</span><span class="params">(<span class="type">bool</span> checked)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">do_click</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">connect</span>(ui-&gt;checkBox,&amp;QCheckBox::clicked,<span class="keyword">this</span>,<span class="built_in">qOverLoad</span>&lt;<span class="type">bool</span>&gt;(&amp;Widget::do_click));</span><br><span class="line"><span class="comment">//可以写成成员函数的形式：把this提出来：this-&gt;connect(ui-&gt;checkBox,&amp;QCheckBox::clicked,qOverLoad&lt;bool&gt;(&amp;Widget::do_click));</span></span><br><span class="line"><span class="built_in">connect</span>(ui-&gt;checkBox,&amp;QCheckBox::clicked,<span class="keyword">this</span>,qOverLoad&lt;&gt;(&amp;Widget::do_click));</span><br></pre></td></tr></table></figure>
<p>最后一个参数：Qt::ConnectionType表示了信号与槽之间的关联方式</p>
<ul>
<li>Qt::AutoConnection（缺省值）：自动确定关联方式</li>
<li>Qt::DirectConnection：信号被发射时，槽立即执行，槽函数与信号在同一线程</li>
<li>Qt::QueuedConnection：事件循环回到接收者线程后执行槽，槽与信号在不同的线程</li>
<li>Qt::BlockingQueuedConnection：信号线程会被阻塞直到槽执行完毕。当槽函数与信号在同一线程，会造成锁死。</li>
</ul>
<h4 id="disconnect-函数使用"><a href="#disconnect-函数使用" class="headerlink" title="disconnect()函数使用"></a>disconnect()函数使用</h4><p><img src="/github.fy/Qt/14.png"></p>
<h4 id="sender-函数的使用"><a href="#sender-函数的使用" class="headerlink" title="sender()函数的使用"></a>sender()函数的使用</h4><p>sender()函数用来在槽函数内部中，使用QObject::sender()获取发射信号的对象的指针</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SignalOutputObj *SOP = <span class="built_in">qobject_cast</span>&lt;SignalOutputObj *&gt;(<span class="built_in">sender</span>());</span><br></pre></td></tr></table></figure>
<p>自定义信号及其使用:<br>    - 信号函数必须无返回值。而且无需实现。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">QPerson</span>:<span class="keyword">public</span> QObject</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_Age = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">incAge</span><span class="params">()</span></span>;</span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ageChanged</span><span class="params">(<span class="type">int</span> value)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">QPerson::incAge</span><span class="params">()</span></span>&#123;m_Age++;<span class="function">emit <span class="title">ageChanged</span><span class="params">(m_Age)</span>&#125;</span>;</span><br></pre></td></tr></table></figure>
<h3 id="对象树"><a href="#对象树" class="headerlink" title="对象树"></a>对象树</h3><p>使用QObject及其子类创建的对象是以对象树的形式来组织的。创建一个QObject对象时若设置一个父对象，它就会被添加到父对象的子对象列表中。<br>一个父对象被删除时，其余子对象就会被自动删除。</p>
<p>QObject类的构造函数中有一个参数parent，用于设置对象的父对象。QObject中有一些函数可以在运行的时候访问对象树中的对象。</p>
<ul>
<li>children()函数    用于返回对象的子对象列表，函数原型定义如下  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">const</span> QObjectList &amp;<span class="title">QObject::children</span><span class="params">()</span></span>;</span><br><span class="line">函数返回值是QObjectList类型，就是QObject类型指针列表，定义如下：</span><br><span class="line"><span class="keyword">typedef</span> QList&lt;QObject*&gt; QObjectList;</span><br></pre></td></tr></table></figure></li>
<li>对于界面上的容器类组件，都是界面的子类，所以可以通过界面直接访问。<br>比如：group_Box中有三个颜色的单选按钮，运行group_Box-&gt;children()返回的对象有4个对象，因为还有一个水平布局对象。  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">QObjectList qObjList = ui-&gt;group_Box-&gt;<span class="built_in">children</span>();<span class="comment">//返回QObjectList指针列表</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;qObjList.<span class="built_in">size</span>();i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//获取元对象</span></span><br><span class="line">    <span class="type">const</span> QMetaObject*meta = qObjList[i]-&gt;<span class="built_in">metaObject</span>();</span><br><span class="line">    <span class="comment">//获取子类对象名称</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;meta-&gt;<span class="built_in">className</span>();</span><br><span class="line">    <span class="comment">//转化成字符串形式</span></span><br><span class="line">    QString classname = <span class="built_in">QString</span>(meta-&gt;<span class="built_in">className</span>()); </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(classname==<span class="string">&quot;QPushButton&quot;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        QPushButton *btn = <span class="built_in">qobject_cast</span>&lt;QPushButton*&gt;(qObjList[i]);<span class="comment">//强制指针转化</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>findChild()函数   返回此对象一个具有给定名称的子对象，该子对象可以转化为类型T，如果没有该对象，则返回nullptr。  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; T <span class="title">QObject::findChild</span><span class="params">(<span class="type">const</span> QString &amp;name = QString(),</span></span></span><br><span class="line"><span class="params"><span class="function">Qt::FindChildOptions options = Qt::FindChildrenRecursively)</span><span class="type">const</span></span></span><br><span class="line"><span class="function">如不设置options选项，<span class="title">findChild</span><span class="params">()</span>不光会找子类还会继续往下找，如果只想找子类就得用options</span>=FindDirectChildrenOnly</span><br><span class="line">QPushButton *button = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;按键&quot;</span>);</span><br><span class="line">button.<span class="built_in">setObjectName</span>(<span class="string">&quot;对象名称&quot;</span>);</span><br><span class="line">QPushButton *btn = <span class="keyword">this</span>-&gt;<span class="built_in">findChild</span>&lt;QPushButton*&gt;(<span class="string">&quot;对象名称&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li>findChildren()函数    函数类型和上面差不多，就是要返回列表。</li>
</ul>
<h3 id="元对象系统案例"><a href="#元对象系统案例" class="headerlink" title="元对象系统案例"></a>元对象系统案例</h3><p><img src="/github.fy/Qt/15.png"><br>Widget.h文件</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> WIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> WIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QPlainTextEdit&gt;</span></span></span><br><span class="line">QT_BEGIN_NAMESPACE</span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span>;</span><br><span class="line">&#125;</span><br><span class="line">QT_END_NAMESPACE</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">InfoText</span>:<span class="keyword">public</span> QObject</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function">Q_OBJECT</span></span><br><span class="line"><span class="function">    <span class="title">Q_CLASSINFO</span><span class="params">(<span class="string">&quot;Version:&quot;</span>,<span class="string">&quot;1.0.0&quot;</span>)</span></span>;</span><br><span class="line">    <span class="built_in">Q_CLASSINFO</span>(<span class="string">&quot;Author:&quot;</span>,<span class="string">&quot;fylhg&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">get_Age</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//explicit用于防止构造函数的隐式转换</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">InfoText</span><span class="params">(QString Name,QObject *parent)</span>:QObject(parent)</span></span><br><span class="line"><span class="function">    &#123;</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;name = Name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">set_age</span><span class="params">(<span class="type">int</span> value)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;m_age = value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">ageChanged</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="function">emit <span class="title">SendChange</span><span class="params">(m_age)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">QString <span class="title">get_name</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_age;</span><br><span class="line">    QString name;</span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SendChange</span><span class="params">(<span class="type">int</span> value)</span></span>;</span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">do_ageChange</span><span class="params">(<span class="type">int</span> value)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;<span class="built_in">set_age</span>(value);</span><br><span class="line">        <span class="built_in">qDebug</span>()&lt;&lt;value;</span><br><span class="line">        <span class="built_in">qDebug</span>()&lt;&lt;m_age;</span><br><span class="line">        <span class="keyword">this</span>-&gt;<span class="built_in">ageChanged</span>();<span class="comment">//发送信号</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Widget</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Widget</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Widget *ui;</span><br><span class="line">    InfoText *boy ;</span><br><span class="line">    InfoText *girl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">PlainTextEdit_changeText</span><span class="params">(<span class="type">int</span> value)</span></span>;<span class="comment">//因为此时的ui指针指向的对象还没被正式创建</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">do_clicked</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print_MetaInfo</span><span class="params">()</span></span>;<span class="comment">//打印元对象信息</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// WIDGET_H</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Widget.cpp文件</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QMetaClassInfo&gt;</span></span></span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">    , <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::Widget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    boy = <span class="keyword">new</span> <span class="built_in">InfoText</span>(<span class="string">&quot;冯岩&quot;</span>,parent);<span class="comment">//parent是Widget的指针，这样传递的意思就是InfoText为Widget的子类</span></span><br><span class="line">    girl = <span class="keyword">new</span> <span class="built_in">InfoText</span>(<span class="string">&quot;韩歌&quot;</span>,parent);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;spinBox_2,<span class="built_in">SIGNAL</span>(<span class="built_in">valueChanged</span>(<span class="type">int</span>)),girl,<span class="built_in">SLOT</span>(<span class="built_in">do_ageChange</span>(<span class="type">int</span>)));</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;spinBox,<span class="built_in">SIGNAL</span>(<span class="built_in">valueChanged</span>(<span class="type">int</span>)),boy,<span class="built_in">SLOT</span>(<span class="built_in">do_ageChange</span>(<span class="type">int</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(boy,<span class="built_in">SIGNAL</span>(<span class="built_in">SendChange</span>(<span class="type">int</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">PlainTextEdit_changeText</span>(<span class="type">int</span>)));</span><br><span class="line">    <span class="built_in">connect</span>(girl,<span class="built_in">SIGNAL</span>(<span class="built_in">SendChange</span>(<span class="type">int</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">PlainTextEdit_changeText</span>(<span class="type">int</span>)));</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_2,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>()),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">do_clicked</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>()),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">do_clicked</span>()));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//打印元对象信息</span></span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;pushButton_3,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>()),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">print_MetaInfo</span>()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget::~<span class="built_in">Widget</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::PlainTextEdit_changeText</span><span class="params">(<span class="type">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">Q_UNUSED</span>(value);</span><br><span class="line">    InfoText *info = <span class="built_in">qobject_cast</span>&lt;InfoText*&gt;(<span class="built_in">sender</span>());</span><br><span class="line">    QString name = info-&gt;<span class="built_in">get_name</span>();</span><br><span class="line">    <span class="type">int</span> age = info-&gt;<span class="built_in">get_Age</span>();</span><br><span class="line">    QString all = <span class="built_in">QString</span>(<span class="string">&quot;姓名=%1，年龄=%2&quot;</span>).<span class="built_in">arg</span>(name).<span class="built_in">arg</span>(age);</span><br><span class="line"></span><br><span class="line">    ui-&gt;plainTextEdit-&gt;<span class="built_in">appendPlainText</span>(all);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::do_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">sender</span>()-&gt;<span class="built_in">objectName</span>()==<span class="string">&quot;pushButton_2&quot;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> num = ui-&gt;spinBox_2-&gt;<span class="built_in">value</span>();</span><br><span class="line">        num++;</span><br><span class="line">        <span class="built_in">qDebug</span>()&lt;&lt;<span class="built_in">sender</span>();</span><br><span class="line">        ui-&gt;spinBox_2-&gt;<span class="built_in">setValue</span>(num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">sender</span>()-&gt;<span class="built_in">objectName</span>()==<span class="string">&quot;pushButton&quot;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> num = ui-&gt;spinBox-&gt;<span class="built_in">value</span>();</span><br><span class="line">        num++;</span><br><span class="line">        <span class="built_in">qDebug</span>()&lt;&lt;<span class="built_in">sender</span>();</span><br><span class="line">        ui-&gt;spinBox-&gt;<span class="built_in">setValue</span>(num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::print_MetaInfo</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 获取 boy 对象的元对象</span></span><br><span class="line">    <span class="type">const</span> QMetaObject *metaObj = boy-&gt;<span class="built_in">metaObject</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历所有的类信息</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; metaObj-&gt;<span class="built_in">classInfoCount</span>(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 获取 classInfo，并直接在使用时访问其属性</span></span><br><span class="line">        <span class="type">const</span> QMetaClassInfo classInfo = metaObj-&gt;<span class="built_in">classInfo</span>(i);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将信息添加到 plainTextEdit</span></span><br><span class="line">        ui-&gt;plainTextEdit-&gt;<span class="built_in">appendPlainText</span>(</span><br><span class="line">            <span class="built_in">QString</span>(<span class="string">&quot;Name=%1; Value=%2&quot;</span>).<span class="built_in">arg</span>(classInfo.<span class="built_in">name</span>()).<span class="built_in">arg</span>(classInfo.<span class="built_in">value</span>())</span><br><span class="line">            );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="容器类"><a href="#容器类" class="headerlink" title="容器类"></a>容器类</h2><p>Qt库提供了一组通用的基于模版的容器类。可用于存储指定类型的项。例如，如果需要一个大小可变的QString数组，可以使用QList<QString>或QStringList.</p>
<p>Qt容器提供了用于遍历的迭代器。STL风格的迭代器是最高效的迭代器，可以与Qt和STL的泛型算法一起使用。</p>
<h3 id="顺序容器"><a href="#顺序容器" class="headerlink" title="顺序容器"></a>顺序容器</h3><ul>
<li>QList,QStack和QQueue</li>
<li>对于大多数应用程序，QList是最好的选择。它提供了非常快的追加。如果确实需要使用链表。可以使用std::list</li>
<li>QStack和QQueue是便利类，提供了LIFO和FIFO语义<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">QList&lt;<span class="type">float</span>&gt;list;</span><br><span class="line">QList&lt;<span class="type">int</span>&gt; list=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;<span class="comment">//初始化列表数据</span></span><br><span class="line">QList&lt;<span class="type">int</span>&gt;<span class="built_in">list</span>(<span class="number">100</span>);<span class="comment">//初始化列表元素个数为100，所有元素默认为0；</span></span><br><span class="line">QList&lt;string&gt;<span class="built_in">strList</span>(<span class="number">10</span>,<span class="string">&quot;pass&quot;</span>);<span class="comment">//10个元素，每个元素被初始化为pass</span></span><br><span class="line"></span><br><span class="line">QList&lt;QString&gt;list;</span><br><span class="line">list&lt;&lt;<span class="string">&quot;Monday&quot;</span>&lt;&lt;<span class="string">&quot;Tuesday&quot;</span>&lt;&lt;<span class="string">&quot;Wednesday&quot;</span>;</span><br><span class="line">list.<span class="built_in">append</span>(<span class="string">&quot;Friday&quot;</span>);</span><br><span class="line">QString str1=list[<span class="number">0</span>];<span class="comment">//QList::const_reference QList::operator[](qsizetype i)const</span></span><br><span class="line">QString str2=list.<span class="built_in">at</span>(<span class="number">1</span>);<span class="comment">//QList::const_reference QList::at(qsizetype i)const</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="关联容器"><a href="#关联容器" class="headerlink" title="关联容器"></a>关联容器</h3><ul>
<li>QMap、QMultiMap、QHash、QMultiHash和QSet</li>
<li>“multi”容器支持与一个键关联的多个值</li>
<li>“hash”容器通过使用散列函数而不是在有序集合上进行二分查找，从而提供了更快的查找速度。<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">QMap&lt;QString,<span class="type">int</span>&gt;map;</span><br><span class="line">map[<span class="string">&quot;one&quot;</span>]=<span class="number">1</span>;</span><br><span class="line">map[<span class="string">&quot;two&quot;</span>]=<span class="number">2</span>;</span><br><span class="line">map[<span class="string">&quot;seven&quot;</span>]=<span class="number">3</span>;</span><br><span class="line">map.<span class="built_in">insert</span>(<span class="string">&quot;twelve&quot;</span>,<span class="number">12</span>);</span><br><span class="line"><span class="type">int</span> num1 = map[<span class="string">&quot;one&quot;</span>];</span><br><span class="line"><span class="comment">//如果在map中没有指定键的项，这些函数返回一个默认构造的值</span></span><br><span class="line"><span class="type">int</span> num2 = map[<span class="string">&quot;thirteen&quot;</span>];</span><br><span class="line"><span class="type">int</span> num3 = map.<span class="built_in">value</span>(<span class="string">&quot;thirteen&quot;</span>);</span><br><span class="line"><span class="comment">//还有一个value()的重载方法，如果指定的键不存在，则使用第二个参数作为默认值</span></span><br><span class="line"><span class="type">int</span> num4 = map.<span class="built_in">value</span>(<span class="string">&quot;adhdoa&quot;</span>,<span class="number">12</span>);</span><br></pre></td></tr></table></figure>
stl风格的迭代器直接指向元素。容器的begin()函数<br>返回指向容器中第一个元素的迭代器。end()函数返<br>指向容器尾后位置的迭代器。永远不要对end()解引<br>用。begin()等于end()表示列表为空。</li>
</ul>
<p>stl风格反向迭代器示例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">QList&lt;QString&gt;list;</span><br><span class="line">list&lt;&lt;<span class="string">&quot;A&quot;</span>&lt;&lt;<span class="string">&quot;B&quot;</span>&lt;&lt;<span class="string">&quot;C&quot;</span>&lt;&lt;<span class="string">&quot;D&quot;</span>;</span><br><span class="line">QList&lt;QString&gt;::reverse_iterator i;</span><br><span class="line"><span class="keyword">for</span>(i = list.<span class="built_in">rbegin</span>();i!=list.<span class="built_in">rend</span>();++i)</span><br><span class="line">&#123;</span><br><span class="line">    *i =i-&gt;<span class="built_in">toLower</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于只读访问，可以使用const_iterator、constBegin()和constEnd()</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QMap&lt;<span class="type">int</span>, <span class="type">int</span>&gt; map;</span><br><span class="line">QMap&lt;<span class="type">int</span>, <span class="type">int</span>&gt; :: const_iterator i;</span><br><span class="line"><span class="keyword">for</span> (i = map.<span class="built_in">constBegin</span>(); i != map.<span class="built_in">constEnd</span>(); ++i)</span><br><span class="line"><span class="built_in">qDebug</span>() &lt;&lt; i.<span class="built_in">key</span>() &lt;&lt; <span class="string">&#x27;:&#x27;</span> &lt;&lt; i.<span class="built_in">value</span>();</span><br></pre></td></tr></table></figure>
<p><code>由于隐式共享销非常小。Qt API包含了许多函数,可以为每个值返回一个QList或QStringList(例如,QSplitter :: sizes())。如果想使用STL迭代器迭代它们,应该始终获取容器的副本并迭代该副本。</code><br><code>只传递指向数据的指针,只有当函数写入数据时,数据才会被复制</code></p>
<ul>
<li>可以用c++11range-for的方式遍历容器<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::map&lt;std::string, <span class="type">int</span>&gt; ageMap = &#123;&#123;<span class="string">&quot;Alice&quot;</span>, <span class="number">30</span>&#125;, &#123;<span class="string">&quot;Bob&quot;</span>, <span class="number">25</span>&#125;, &#123;<span class="string">&quot;Charlie&quot;</span>, <span class="number">35</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; pair : ageMap) &#123;</span><br><span class="line">        std::cout &lt;&lt; pair.first &lt;&lt; <span class="string">&quot; is &quot;</span> &lt;&lt; pair.second &lt;&lt; <span class="string">&quot; years old.\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="其他常用的基础类"><a href="#其他常用的基础类" class="headerlink" title="其他常用的基础类"></a>其他常用的基础类</h2><h3 id="QVariant类"><a href="#QVariant类" class="headerlink" title="QVariant类"></a>QVariant类</h3><p>类似于Qt常见类型union（类型不确定，某时刻只能为一种类型）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QObject::<span class="built_in">property</span>()的原型：</span><br><span class="line"><span class="function">QVariant <span class="title">QObject::property</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *name)</span><span class="type">const</span></span></span><br><span class="line"><span class="function">各种属性的数据类型不同需要使用QVariant类表示可以存储任何类型的数据。</span></span><br></pre></td></tr></table></figure>
<p>名为：ioT()的方法（例如：toInt(),toString()）是const。用于转换为具体的数据。toT()会进行复制和转换不会改变对象本身。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QVariant <span class="title">v</span><span class="params">(<span class="number">173</span>)</span></span>;</span><br><span class="line">QString str = v.<span class="built_in">toString</span>();</span><br><span class="line"><span class="type">int</span> val = var.<span class="built_in">value</span>&lt;<span class="type">int</span>&gt;();</span><br><span class="line"></span><br><span class="line">QStringList strlist;</span><br><span class="line">strList&lt;&lt;<span class="string">&quot;one&quot;</span>&lt;&lt;<span class="string">&quot;two&quot;</span>&lt;&lt;<span class="string">&quot;three&quot;</span>;</span><br><span class="line">v.<span class="built_in">setvalue</span>(strList);</span><br><span class="line">QStringList value = var.<span class="built_in">toStringList</span>();</span><br></pre></td></tr></table></figure>
<p><strong>由于QVariant是Qt核心模块的一部分,不能提供到Qt GUI中定义的数据类型的转换函数,因此对于Qt GUI模块中的一些类,QVariant没有相应的toT函数,需要通过QVariant :: value()函数来得到指定类型的值:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">QFont font=<span class="keyword">this</span>-&gt;<span class="built_in">font</span>();<span class="comment">//窗口的字体</span></span><br><span class="line">QVariant var=font;      <span class="comment">//赋值给QVariant变量</span></span><br><span class="line">QFont font2 = var.<span class="built_in">value</span>&lt;QFont&gt;();<span class="comment">//转换为QFont类型</span></span><br></pre></td></tr></table></figure>
<h3 id="QFlags类"><a href="#QFlags类" class="headerlink" title="QFlags类"></a>QFlags类</h3><p>label-&gt;setAlignment(Qt :: AlignLeft<br>label-&gt;setAlignment({ });</p>
<p>QFlags类<br>QFlags<Enum>类是模板类,Enum是枚举类型。QFlags在Qt中用于存储枚举值的或运算组合。</p>
<p>Qt使用QFlags提供类型安全(与C++用int或uint相比)。例如,Qt :: Alignment类型只是<br>QFlags<Qt :: AlignmentFlag>的typedef类型。QLabel :: setAlignment()接受一个Qt :: Alignment参数,<br>这意味着Qt :: AlignmentFlag值或{}的任何组合都是合法的:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">label-&gt;<span class="built_in">setAlignment</span>(Qt::AlignLsft | Qt::AlignTop);</span><br><span class="line">label-&gt;<span class="built_in">setAlignment</span>(&#123;&#125;);</span><br></pre></td></tr></table></figure>
<p>如果想在QFlags中使用自定义的枚举类型，可以使用Q_DECLARE_FLAGS()和Q_DECLARE_OPERATORS_FOR_FLAGS()</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">enum class</span> <span class="title class_">Option</span>&#123;</span><br><span class="line">        one,</span><br><span class="line">        two,</span><br><span class="line">        three</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">Q_DECLARE_FLAGS</span>(Options,Option);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">Q_DECLARE_OPERATPRS_FOR_FLAGS</span>(Myclass::Options)</span><br></pre></td></tr></table></figure>
<h3 id="QRandomGenerator类"><a href="#QRandomGenerator类" class="headerlink" title="QRandomGenerator类"></a>QRandomGenerator类</h3><p>通俗将就是创建一个QRandomGenerator类给他构造函数赋值个种子，同过QRandomGenerator::generate()一系列函数生成伪随机数列。<br>QRandomGenerotor基本函数：<br><code>QRandomGenerator::global()直接返回一个全局实例来创建随机数</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">quint64 <span class="title">QRandomGenerator::generate64</span><span class="params">()</span></span></span><br><span class="line"><span class="function">quint32 <span class="title">QRandomGenerator::generate</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">QRandomGenerator::generateDouble</span><span class="params">()</span><span class="comment">//[0,1)区间浮点数</span></span></span><br><span class="line"><span class="function"><span class="title">QRandomGenerator::fillRange</span><span class="params">(array)</span><span class="comment">//生成随机数填充到数组也可以写成(array,size)</span></span></span><br><span class="line"><span class="function"><span class="title">QRandomGenerator::bounded</span><span class="params">()</span><span class="comment">//指定生成指定范围的随机数</span></span></span><br></pre></td></tr></table></figure>

<p>QRandomGenerator是高质量的随机数生成器。与C++随机引擎一样,QRandomGenerator可以通过构造函数填充用户提供的种子值,如果种子值确定,那么这个类生成的数字序列是确定的。也就是说,给定相同的种子值,QRandomGenerator将生成相同的数字序列。但是给不同的种子,结果应该会有明显的区别,函数原型如下:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QRandomGenerator: :<span class="built_in">QRandomGenerator</span>(quint32 seedValue = <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p><code>QRandomGenerator::securelyseed()可用于创建一个QRandomGenerator,该QRandomGeneratorQRandomGenerator ::system()安全地产生种子值,这意味着它生成的数字序列不能轻易预测。此外,QRandomGenerator::global()返回一个QRandomGenerator的全局实例(使用securelyseed)</code></p>
<h2 id="界面组件"><a href="#界面组件" class="headerlink" title="界面组件"></a>界面组件</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>QWidget是所有界面组件类的直接或间接父类。<br><code>widget组件</code>:所有界面组件的统称,它从操<br>作系统接收鼠标、键盘和其他事件,并在屏</p>
<p>幕上显示自己。每个组件都是矩形的,并且</p>
<p>按z轴顺序排列。</p>
<p><code>window</code>:没有嵌入到父组件中的组件。通常,<br>它有一个frame和一个标题栏,可以使用</p>
<p>window flags 创建没有这两个装饰的窗口。在<br>Qt中,QMainWindow和QDialog的各种子类是<br>最常见的window类型。</p>
<h3 id="QWidget类的主要属性和接口函数"><a href="#QWidget类的主要属性和接口函数" class="headerlink" title="QWidget类的主要属性和接口函数"></a>QWidget类的主要属性和接口函数</h3><p>sizePolicy:QSizePolicy<br><img src="/github.fy/Qt/16.png"><br><img src="/github.fy/Qt/17.png"></p>
<h3 id="布局管理"><a href="#布局管理" class="headerlink" title="布局管理"></a>布局管理</h3><p>布局管理也是通过一些列类实现的，经过预编译，被转化为标准C++语言。<br><img src="/github.fy/Qt/18.png"><br><img src="/github.fy/Qt/19.png"><br>表单Form布局和grid网格布局的区别：<br>QFormLayout：</p>
<ul>
<li><p>适用于简单的标签和控件的表单。</p>
</li>
<li><p>标签通常位于控件的左侧。</p>
</li>
<li><p>自动处理控件对齐和布局。<br>QGridLayout：</p>
</li>
<li><p>适用于更复杂的布局需求。</p>
</li>
<li><p>允许精确控制控件的位置，支持行列跨越。</p>
</li>
<li><p>更灵活，可适应多种布局结构。</p>
</li>
</ul>
<h4 id="水平布局"><a href="#水平布局" class="headerlink" title="水平布局"></a>水平布局</h4><p><img src="/github.fy/Qt/20.png"><br>layoutStretch: 0,0,0,表示三个组件平均分配宽度<br>layoutStretch: 0,0,1,表示前两个组件达到合适的宽度后不再增加宽度，其余的空间都分配给第三个组件<br>layoutStretch: 1,1,2,表示前两个组件达到合适宽度后将尽量满足1:1:2的比例。</p>
<h4 id="网格布局"><a href="#网格布局" class="headerlink" title="网格布局"></a>网格布局</h4><p>QGridLayout占用的空间（通过其父布局或者parentWidget()）,将其划分为行和列，并将其管理的每个部件放入正确的单元格中。<br><img src="/github.fy/Qt/21.png"><br><img src="/github.fy/Qt/22.png"><br>addWidget 是 Qt 中布局管理器类的一个成员函数，用于将一个小部件（例如按钮、标签、输入框等）添加到布局中。这个函数可以在不同的布局管理器中使用，如 QVBoxLayout、QHBoxLayout、QGridLayout 和 QFormLayout 等。</p>
<p>对于QGridLayout中的addWidget<br>语法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">addWidget</span><span class="params">(QWidget *widget, <span class="type">int</span> row, <span class="type">int</span> column, <span class="type">int</span> rowSpan = <span class="number">1</span>, <span class="type">int</span> columnSpan = <span class="number">1</span>, Qt::Alignment alignment = <span class="number">0</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>widget：要添加到网格中的小部件。</li>
<li>row：小部件所在的行号（从 0 开始计数）。</li>
<li>column：小部件所在的列号（从 0 开始计数）。</li>
<li>rowSpan：小部件跨越的行数，默认为 1。</li>
<li>columnSpan：小部件跨越的列数，默认为 1。</li>
<li>alignment：小部件在单元格中的对齐方式，可以使用 - - - Qt::Alignment 标志，如 Qt::AlignCenter、Qt::AlignLeft、Qt::AlignRight 等。默认为 0，即不对齐。</li>
</ul>
<h4 id="分割条"><a href="#分割条" class="headerlink" title="分割条"></a>分割条</h4><p>分割条允许用户通过拖动子widget之间的边界来控制子widget的大小。任意数量的部件都可以由单个分割条控制。QSplitter的典型用法是创建几个小widget或者groupbox,并使用insertWidget()或addWidget()添加它们。<br><img src="/github.fy/Qt/23.png"></p>
<h2 id="QString字符串操作"><a href="#QString字符串操作" class="headerlink" title="QString字符串操作"></a>QString字符串操作</h2><h3 id="QString简介"><a href="#QString简介" class="headerlink" title="QString简介"></a>QString简介</h3><p>QString没有父类,QString存储一个由16位QChar组成(一种Unicode编码,一个汉字就是一个字符)字符串,每个QChar对应一个UTF-16编码单元。(编码值大于65535的Unicode字符使用两个连续的QChar存储。)<br>QString中又封装的函数：</p>
<ul>
<li><p>QString str &#x3D; QString(“%1%2%3”).arg(position1).arg(positon2).arg(positon3);</p>
</li>
<li><p>QString::arg()</p>
<ul>
<li>基本方法：<code>QString arg(const QString &amp;aValue, int fieldWidth = 0, QChar fillChar = QLatin1Char(&#39; &#39;)) const;</code></li>
<li>参数：aValue插入的字符串参数  fieldWidth指定字段宽度  fillchar填充字符默认为空格</li>
<li>处理数字格式的arg  QString arg(qint64&#x2F;32等 aValue, int fieldWidth &#x3D; 0, int base &#x3D; 10) const;base是进制</li>
<li>控制浮点数格式QString arg(double aValue, int fieldWidth &#x3D; 0, char format &#x3D; ‘g’,int precision &#x3D; 6, QChar fillChar &#x3D; QLatin1Char(‘ ‘)) const;   ‘f’是固定小数点格式，’e’是科学计数模式</li>
</ul>
</li>
<li><p>QString::section()</p>
<ul>
<li>提取子字符串<code>QString section(const QString &amp;separator, int start, int length = -1, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;</code></li>
<li>参数：separator分隔符 start从分割后的那一部分开始读取索引从零开始 length表示读取长度复数表示从右往左 CaseSenditive表示大小写敏感</li>
</ul>
</li>
<li><p>QString::last(qsizetype n)&amp;first(qsizetype n)</p>
<ul>
<li>表示从开始或者末尾截取n个字符成一个字符串</li>
</ul>
</li>
<li><p>QString::IndexOf()和LastIndexOf()</p>
<ul>
<li>寻找给定字符串的索引</li>
</ul>
</li>
<li><p>QString::resize(int size,QChar s)</p>
<ul>
<li>重新给指定字符串设置大小，多出的空间由s填满</li>
</ul>
</li>
<li><p>QString::simplified和trimed</p>
<ul>
<li>作用：都能去除首尾字符串的空格，但是对于simplified是可以将字符串中多个空格合并成一个空格</li>
</ul>
</li>
<li><p>QString::insert(posoiton p,QString|char s)</p>
<ul>
<li>作用：在给定位置插入字符或字符串</li>
</ul>
</li>
<li><p>QString::replace()</p>
<ul>
<li>作用：1.字符替换replace(char s1,char s2);把s1替换成s2。2.字符串替换replace(position p,length l,QString str);</li>
</ul>
</li>
<li><p>QString::remove()</p>
<ul>
<li>作用：1.移除特定字符remove(‘w’);  2.移除n个字符remove(1,20);从一的位置移除20个</li>
</ul>
</li>
<li><p>QString::number(baseNumber,base)</p>
<ul>
<li>作用：将数字转化成我们想要的进制</li>
</ul>
</li>
<li><p><code>UTF-8</code>:最少用1个字节编码,可以使用1~4个字节编码。与Latin1编码兼容,被广泛使用,Qt Creator存储的源码默认使用UTF-8编码。</p>
</li>
<li><p><code>UTF-16</code>:最少使用2个字节编码,可以使用2或4个字节编码。</p>
</li>
</ul>
<h3 id="QString创建和初始化"><a href="#QString创建和初始化" class="headerlink" title="QString创建和初始化"></a>QString创建和初始化</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QString str = <span class="string">&quot;Hello&quot;</span>;</span><br></pre></td></tr></table></figure>
<h3 id="QString字符串索引"><a href="#QString字符串索引" class="headerlink" title="QString字符串索引"></a>QString字符串索引</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">QString str;</span><br><span class="line">str.<span class="built_in">resize</span>(<span class="number">4</span>);<span class="comment">//设置字符串4个空间</span></span><br><span class="line">str[<span class="number">0</span>]= <span class="built_in">QChar</span>(<span class="string">&#x27;U&#x27;</span>);</span><br><span class="line">str[<span class="number">1</span>] = <span class="built_in">QChar</span>(<span class="number">0x10e3</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="QChar功能"><a href="#QChar功能" class="headerlink" title="QChar功能"></a>QChar功能</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">QChar ch = <span class="built_in">QChar</span>(<span class="string">&#x27;p&#x27;</span>);<span class="comment">//构造函数创建</span></span><br><span class="line">QChar ch = QChar::<span class="built_in">fromLatinl</span>(<span class="string">&#x27;p&#x27;</span>)<span class="comment">//用函数创建</span></span><br><span class="line">QString str = <span class="string">&quot;你好呀&quot;</span>;</span><br><span class="line">QChar ch = <span class="built_in">QChar</span>(str[<span class="number">0</span>].<span class="built_in">unicode</span>());<span class="comment">//unicode()的类型是char16_t</span></span><br><span class="line">QChar ch_1 = <span class="built_in">QChar</span>(<span class="number">0x5678</span>);<span class="comment">//unicode码创建</span></span><br><span class="line">QChar ch1 = <span class="string">&#x27;w&#x27;</span>;</span><br><span class="line"><span class="function">QString <span class="title">str1</span><span class="params">(ch1)</span></span>;<span class="comment">//利用构造函数来用字符创建字符串</span></span><br></pre></td></tr></table></figure>
<h3 id="QSpinBox和QDoubleSpinBox"><a href="#QSpinBox和QDoubleSpinBox" class="headerlink" title="QSpinBox和QDoubleSpinBox"></a>QSpinBox和QDoubleSpinBox</h3><p>QSpinBox和QDoubleSpinBox都是QAbstractSpinBox的子类<br><img src="/github.fy/Qt/24.png"></p>
<h3 id="常用按钮按键"><a href="#常用按钮按键" class="headerlink" title="常用按钮按键"></a>常用按钮按键</h3><p><img src="/github.fy/Qt/25.png"><br>使用了autoExclusive属性：如果启用了自动占用性，属于同一个父部件的可检查按钮同一时间只能选中一个</p>
<h3 id="常用文本"><a href="#常用文本" class="headerlink" title="常用文本"></a>常用文本</h3><ul>
<li>QLabel：这是一个简单的标签控件，用于显示固定文本或图像。它不支持用户输入。</li>
<li>QLineEdit：这是一个单行编辑框，用于允许用户输入一行文本。</li>
<li>QTextEdit：这是一个多行文本编辑器，支持可视化的文本编辑和格式化。它支持富文本编辑，并且可以处理HTML格式的文本。</li>
<li>QTextBrowser：这个控件类似于QTextEdit，但通常用于显示静态文本或网页。它支持HTML和CSS。</li>
<li>QPlainTextEdit：这是一个较轻量级的文本编辑器，只支持纯文本和简单的文本格式。</li>
<li>QListWidget：这是一个列表视图控件，用于显示列表项。单击列表项可以触发信号来通知用户进行某些操作。</li>
<li>QTableWidget：这是一个表格控件，可用于显示行列的二维表格，并允许用户编辑其中的数据。</li>
<li>QTreeWidget：这是一个树形结构控件，它显示了一个树状结构的数据，允许用户展开和折叠节点。</li>
<li>QComboBox：这是一个下拉列表控件，包含一个可选择的项目列表。用户可以选择一个项目或者直接在输入框中输入值。</li>
<li>QSpinBox：这是一个用于输入整数的简单控件，它提供了一个上下箭头来递增或递减数值。</li>
<li>QDateEdit：这是一个用于显示和编辑日期的控件。</li>
<li>QTimeEdit：这是一个用于显示和编辑时间的控件。</li>
<li>QDateTimeEdit：这是一个用于显示和编辑日期和时间的控件。</li>
</ul>
<h4 id="常用设置属性的方法"><a href="#常用设置属性的方法" class="headerlink" title="常用设置属性的方法"></a>常用设置属性的方法</h4><ol>
<li>设置文本内容<br>QLabel、QLineEdit、QTextEdit、QPlainTextEdit 等:<br><strong>setText(const QString &amp;text)：设置组件显示的文本。</strong><br><strong>setPlainText(const QString &amp;text)：用于QPlainTextEdit设置纯文本。</strong></li>
<li>设置文本对齐方式<br>QLabel、QTextEdit、QPlainTextEdit:<br><strong>setAlignment(Qt::Alignment alignment)：设置文本的对齐方式（左对齐、右对齐、居中等）。</strong></li>
<li>设置字体属性<br>所有文本组件:<br><strong>setFont(const QFont &amp;font)：设置文本的字体（字体类型、大小、风格等）。</strong></li>
<li>设置文本颜色<br>QLabel、QTextEdit、QPlainTextEdit 等:<br><strong>setColor(QPalette::ColorGroup, QPalette::ColorRole, QColor) 允许你为控件在不同状态下设置颜色，如活动、非活动和禁用状态。</strong></li>
</ol>
<ul>
<li>ColorGroup:是有QPalette::Active|Inactive|Disabled（与用户交互焦点在，没交互，禁用）</li>
<li>ColorRole:颜色角色，如 QPalette::Text、QPalette::Button 等</li>
<li>QColor:颜色，Qt::black</li>
</ul>
<ol start="5">
<li>设置文本格式（适用于QTextEdit和QPlainTextEdit）<br>QTextEdit:<br>setHtml(const QString &amp;html)：设置HTML格式的文本。<br>setCurrentFont(const QFont &amp;font)：设置当前选中区域的字体。<br>insertHtml(const QString &amp;html)：在光标处插入HTML格式的文本。</li>
<li>设置提示文本<br>QLineEdit、QTextEdit、QComboBox:<br>setPlaceholderText(const QString &amp;text)：设置提示文本（占位符），提示用户在输入框中可以输入的内容。</li>
<li>设置只读或可编辑属性<br>QLineEdit、QTextEdit、QPlainTextEdit 等:<br><strong>setReadOnly(bool)：设置控件为只读状态，用户不能修改文本。</strong></li>
<li>设置最大字符数<br>QLineEdit、QTextEdit:<br>setMaxLength(int maxLen)：设置输入框可以输入的最大字符数。</li>
<li>设置文本行间距和段落格式（适用于QTextEdit）<br>QTextEdit:<br>QTextCursor cursor &#x3D; textEdit-&gt;textCursor(); &#x2F;&#x2F; 获取文本光标<br>cursor.insertBlock(); &#x2F;&#x2F; 插入新段落<br>cursor.setBlockFormat(blockFormat); &#x2F;&#x2F; 设置段落格式</li>
</ol>
<h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><p><img src="/github.fy/Qt/26.png"></p>
<h3 id="QSlider和QProgressBar滑动条进度条"><a href="#QSlider和QProgressBar滑动条进度条" class="headerlink" title="QSlider和QProgressBar滑动条进度条"></a>QSlider和QProgressBar滑动条进度条</h3><p>滑动条QSlider,卷滚条QScrollBar和表盘QDial是3个滑动行输入组件,可用于输入数值,他们的基类都是QAbstractSlider。</p>
<p>进度条QProgressBar是常见的用于数值显示的组件,特别适用于显示百分比进度。<br>QProgressBar的format属性类型为QString,其中占位符含义如下:</p>
<ul>
<li>%p,完成的百分比</li>
<li>%v,当前值</li>
<li>%m,总步骤数</li>
<li>默认值为“%p%”。</li>
</ul>
<h4 id="给QProgressBar设置属性"><a href="#给QProgressBar设置属性" class="headerlink" title="给QProgressBar设置属性"></a>给QProgressBar设置属性</h4><ul>
<li>setTextVisible文本可视化</li>
<li>setInvertedAppearance设置进度条方向</li>
<li>setFormat设置格式化</li>
</ul>
<h4 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h4><p><img src="/github.fy/Qt/27.png"><br>widget.h</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> WIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> WIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"></span><br><span class="line">QT_BEGIN_NAMESPACE</span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span>;</span><br><span class="line">&#125;</span><br><span class="line">QT_END_NAMESPACE</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Widget</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Widget</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Widget *ui;</span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">do_valueChangedFun</span><span class="params">(<span class="type">int</span> value)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_checkBox_clicked</span><span class="params">(<span class="type">bool</span> checked)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_checkBox_2_clicked</span><span class="params">(<span class="type">bool</span> checked)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_radioButton_clicked</span><span class="params">(<span class="type">bool</span> checked)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_radioButton_2_clicked</span><span class="params">(<span class="type">bool</span> checked)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// WIDGET_H</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>widget.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_widget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">    , <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::Widget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;dial,<span class="built_in">SIGNAL</span>(<span class="built_in">valueChanged</span>(<span class="type">int</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">do_valueChangedFun</span>(<span class="type">int</span>)));</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;horizontalScrollBar,<span class="built_in">SIGNAL</span>(<span class="built_in">valueChanged</span>(<span class="type">int</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">do_valueChangedFun</span>(<span class="type">int</span>)));</span><br><span class="line">    <span class="built_in">connect</span>(ui-&gt;horizontalSlider,<span class="built_in">SIGNAL</span>(<span class="built_in">valueChanged</span>(<span class="type">int</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">do_valueChangedFun</span>(<span class="type">int</span>)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget::~<span class="built_in">Widget</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::do_valueChangedFun</span><span class="params">(<span class="type">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ui-&gt;progressBar-&gt;<span class="built_in">setValue</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_checkBox_clicked</span><span class="params">(<span class="type">bool</span> checked)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ui-&gt;progressBar-&gt;<span class="built_in">setVisible</span>(checked);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_checkBox_2_clicked</span><span class="params">(<span class="type">bool</span> checked)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ui-&gt;progressBar-&gt;<span class="built_in">setInvertedAppearance</span>(checked);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_radioButton_clicked</span><span class="params">(<span class="type">bool</span> checked)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ui-&gt;progressBar-&gt;<span class="built_in">setFormat</span>(<span class="string">&quot;%p%&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_radioButton_2_clicked</span><span class="params">(<span class="type">bool</span> checked)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ui-&gt;progressBar-&gt;<span class="built_in">setFormat</span>(<span class="string">&quot;当前值：%v&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="日期时间数据"><a href="#日期时间数据" class="headerlink" title="日期时间数据"></a>日期时间数据</h2><p><img src="/github.fy/Qt/28.png"></p>
<ul>
<li>QTime:时间数据类型，如：15:23:12</li>
<li>QDate:日期数据类型，如：2017-4-5</li>
<li>QDateTime:日期事件数据类型，如2017-03-2 08:12:43</li>
<li>QCalandarWidget:一个日历形式选择日期的组件</li>
</ul>
<p>得到的时间日期书记可以通过toString()和格式化字符进行格式化<br><img src="/github.fy/Qt/29.png"></p>
<h3 id="QTime接口函数"><a href="#QTime接口函数" class="headerlink" title="QTime接口函数"></a>QTime接口函数</h3><p>|函数原型|功能|<br>|int hour()|返回小时|<br>|int minute()|返回分钟|<br>|int second()|返回秒|<br>|bool setHMS(int h,int m,int s,int ms&#x3D;0)|设置时间的小时、分钟、秒、毫秒数据|<br>|QTime addSec(int s)|当前时间延后s秒的时间|<br>|QString toString(const QString &amp;format)|当前时间按format格式转换为字符串|</p>
<h3 id="QDate接口函数"><a href="#QDate接口函数" class="headerlink" title="QDate接口函数"></a>QDate接口函数</h3><p>有一个静态函判断是否为闰年：bool QDate::isLeapYear(int year)<br>|函数原型|功能|<br>|int year()|返回年|<br>|int month()|返回月1-12|<br>|int day()|返回日1-31|<br>|bool setDate(int year,int month,int day)|设置日期的年、月、日数据|<br>|void getDate(int<em>year,int</em>month,int*day)|返回当前日期的年月日数据|<br>|void addYears和addMonths和addDays|返回一个QDate变量，在当前日期基础上加多少年月日|<br>|QString toString(const QString &amp;format)|当前日期按format格式转换为字符串|</p>
<h3 id="QDateTime接口函数"><a href="#QDateTime接口函数" class="headerlink" title="QDateTime接口函数"></a>QDateTime接口函数</h3><p>有两个静态函数返回系统的当前时间<br>QDateTime QDateTime::currentDateTime()&#x2F;&#x2F;返回系统的当前时间，本地时间<br>QDateTime QDateTime::currentDateTimeUtc()&#x2F;&#x2F;返回系统的当前时间，UTC时间<br>|函数原型|功能|<br>|QDate date()|返回当前日期|<br>|QTime time()|返回当前时间|<br>|QDateTime toUTC()|转化为UTC时间|<br>|QString toString(const QString&amp;format)|将当前日期时间按照format转化为字符串|</p>
<h3 id="fromString和toString函数"><a href="#fromString和toString函数" class="headerlink" title="fromString和toString函数"></a>fromString和toString函数</h3><p>QTime,QDate,QDateTime都有这两个函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">QString <span class="title">QDateTime::toString</span><span class="params">(<span class="type">const</span> QString &amp;format,QCalendar cal=QCalendar())</span></span></span><br><span class="line"><span class="function">QString <span class="title">QDateTime::toString</span><span class="params">(<span class="type">const</span> QString &amp;format,<span class="type">const</span> QString &amp;format,QCalendar cal=QCalendar())</span></span></span><br></pre></td></tr></table></figure>
<h3 id="案例-2"><a href="#案例-2" class="headerlink" title="案例"></a>案例</h3><p><img src="/github.fy/Qt/30.png"><br>widget.h</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> WIDGET_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> WIDGET_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QWidget&gt;</span></span></span><br><span class="line"></span><br><span class="line">QT_BEGIN_NAMESPACE</span><br><span class="line"><span class="keyword">namespace</span> Ui &#123;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span>;</span><br><span class="line">&#125;</span><br><span class="line">QT_END_NAMESPACE</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> : <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Widget</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Widget</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_pushButton_clicked</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_pushButton_5_clicked</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_pushButton_4_clicked</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_pushButton_3_clicked</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">on_calendarWidget_selectionChanged</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Widget *ui;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// WIDGET_H</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>widget.cpp</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;ui_widget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">Widget::<span class="built_in">Widget</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QWidget</span>(parent)</span><br><span class="line">    , <span class="built_in">ui</span>(<span class="keyword">new</span> Ui::Widget)</span><br><span class="line">&#123;</span><br><span class="line">    ui-&gt;<span class="built_in">setupUi</span>(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget::~<span class="built_in">Widget</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">delete</span> ui;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_pushButton_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QDateTime Datetime = QDateTime::<span class="built_in">currentDateTime</span>();</span><br><span class="line"></span><br><span class="line">    ui-&gt;timeEdit-&gt;<span class="built_in">setTime</span>(Datetime.<span class="built_in">time</span>());<span class="comment">//设置time</span></span><br><span class="line">    ui-&gt;lineEdit-&gt;<span class="built_in">setText</span>(Datetime.<span class="built_in">toString</span>(<span class="string">&quot;HH:mm:ss&quot;</span>));<span class="comment">//设置格式化文本内容</span></span><br><span class="line"></span><br><span class="line">    ui-&gt;dateEdit-&gt;<span class="built_in">setDate</span>(Datetime.<span class="built_in">date</span>());<span class="comment">//设置date</span></span><br><span class="line">    ui-&gt;lineEdit_2-&gt;<span class="built_in">setText</span>(Datetime.<span class="built_in">toString</span>(<span class="string">&quot;yyyy:MM:dd&quot;</span>));<span class="comment">//设置格式化文本内容</span></span><br><span class="line"></span><br><span class="line">    ui-&gt;dateTimeEdit-&gt;<span class="built_in">setDateTime</span>(Datetime);<span class="comment">//设置datetime</span></span><br><span class="line">    ui-&gt;lineEdit_3-&gt;<span class="built_in">setText</span>(Datetime.<span class="built_in">toString</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>));<span class="comment">//设置格式化文本内容</span></span><br><span class="line"></span><br><span class="line">    QDate str = ui-&gt;calendarWidget-&gt;<span class="built_in">selectedDate</span>();</span><br><span class="line">    ui-&gt;lineEdit_4-&gt;<span class="built_in">setText</span>(str.<span class="built_in">toString</span>(<span class="string">&quot;yyyy年MM月dd日&quot;</span>));</span><br><span class="line">    ui-&gt;calendarWidget-&gt;<span class="built_in">setSelectedDate</span>(Datetime.<span class="built_in">date</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_pushButton_5_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString str = ui-&gt;lineEdit-&gt;<span class="built_in">text</span>();</span><br><span class="line">    QTime time = QTime::<span class="built_in">fromString</span>(str,<span class="string">&quot;hh:mm:ss&quot;</span>);</span><br><span class="line">    ui-&gt;timeEdit-&gt;<span class="built_in">setTime</span>(time);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_pushButton_4_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString str = ui-&gt;lineEdit_2-&gt;<span class="built_in">text</span>();</span><br><span class="line">    QDate date = QDate::<span class="built_in">fromString</span>(str,<span class="string">&quot;yyyy:MM:dd&quot;</span>);</span><br><span class="line">    ui-&gt;dateEdit-&gt;<span class="built_in">setDate</span>(date);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_pushButton_3_clicked</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QString str = ui-&gt;lineEdit_3-&gt;<span class="built_in">text</span>();</span><br><span class="line">    QDateTime dateTime = QDateTime::<span class="built_in">fromString</span>(str,<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>);</span><br><span class="line">    ui-&gt;dateTimeEdit-&gt;<span class="built_in">setDateTime</span>(dateTime);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Widget::on_calendarWidget_selectionChanged</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QDate str = ui-&gt;calendarWidget-&gt;<span class="built_in">selectedDate</span>();</span><br><span class="line">    ui-&gt;lineEdit_4-&gt;<span class="built_in">setText</span>(str.<span class="built_in">toString</span>(<span class="string">&quot;yyyy年MM月dd日&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://fylhg.github.io/github.fy">二马山石</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://fylhg.github.io/github.fy/2024/07/21/QT/">https://fylhg.github.io/github.fy/2024/07/21/QT/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://fylhg.github.io/github.fy" target="_blank">FY的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/github.fy/tags/Qt/">Qt</a></div><div class="post_share"><div class="social-share" data-image="https://t8.baidu.com/it/u=4067589254,2956208776&amp;fm=193" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/github.fy/2024/07/12/C++/" title="c++"><img class="cover" src="https://img2.baidu.com/it/u=1339810107,1799612389&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=512&amp;h=328" onerror="onerror=null;src='/github.fy/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">c++</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/github.fy/img/1.jpg" onerror="this.onerror=null;this.src='/github.fy/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">二马山石</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/github.fy/archives/"><div class="headline">文章</div><div class="length-num">16</div></a><a href="/github.fy/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/github.fy/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#GUI%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84%E5%92%8C%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="toc-number">1.</span> <span class="toc-text">GUI程序结构和运行机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt%E6%9E%84%E5%BB%BA%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">Qt构建项目的基本原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%8C%96Ui%E8%AE%BE%E8%AE%A1"><span class="toc-number">3.</span> <span class="toc-text">代码化Ui设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CMake%E6%9E%84%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">3.1.</span> <span class="toc-text">CMake构建项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8cmake-gui%E7%94%9F%E6%88%90VS%E9%A1%B9%E7%9B%AE"><span class="toc-number">4.</span> <span class="toc-text">使用cmake-gui生成VS项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt%E7%B1%BB%E5%BA%93%E7%9A%84%E6%A8%A1%E5%9D%97"><span class="toc-number">5.</span> <span class="toc-text">Qt类库的模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt%E4%B8%AD%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">6.</span> <span class="toc-text">Qt中数据类型定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8F%E5%AE%9A%E4%B9%89"><span class="toc-number">7.</span> <span class="toc-text">宏定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt%E5%85%83%E5%AF%B9%E8%B1%A1%E7%B3%BB%E7%BB%9F"><span class="toc-number">8.</span> <span class="toc-text">Qt元对象系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%B3%BB%E7%BB%9F"><span class="toc-number">8.1.</span> <span class="toc-text">属性系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD"><span class="toc-number">8.2.</span> <span class="toc-text">信号与槽</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#connect-%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8"><span class="toc-number">8.2.1.</span> <span class="toc-text">connect()函数使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#disconnect-%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8"><span class="toc-number">8.2.2.</span> <span class="toc-text">disconnect()函数使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sender-%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">8.2.3.</span> <span class="toc-text">sender()函数的使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%A0%91"><span class="toc-number">8.3.</span> <span class="toc-text">对象树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E5%AF%B9%E8%B1%A1%E7%B3%BB%E7%BB%9F%E6%A1%88%E4%BE%8B"><span class="toc-number">8.4.</span> <span class="toc-text">元对象系统案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E7%B1%BB"><span class="toc-number">9.</span> <span class="toc-text">容器类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E5%AE%B9%E5%99%A8"><span class="toc-number">9.1.</span> <span class="toc-text">顺序容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E8%81%94%E5%AE%B9%E5%99%A8"><span class="toc-number">9.2.</span> <span class="toc-text">关联容器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E7%9A%84%E5%9F%BA%E7%A1%80%E7%B1%BB"><span class="toc-number">10.</span> <span class="toc-text">其他常用的基础类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QVariant%E7%B1%BB"><span class="toc-number">10.1.</span> <span class="toc-text">QVariant类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QFlags%E7%B1%BB"><span class="toc-number">10.2.</span> <span class="toc-text">QFlags类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QRandomGenerator%E7%B1%BB"><span class="toc-number">10.3.</span> <span class="toc-text">QRandomGenerator类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%95%8C%E9%9D%A2%E7%BB%84%E4%BB%B6"><span class="toc-number">11.</span> <span class="toc-text">界面组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">11.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QWidget%E7%B1%BB%E7%9A%84%E4%B8%BB%E8%A6%81%E5%B1%9E%E6%80%A7%E5%92%8C%E6%8E%A5%E5%8F%A3%E5%87%BD%E6%95%B0"><span class="toc-number">11.2.</span> <span class="toc-text">QWidget类的主要属性和接口函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E5%B1%80%E7%AE%A1%E7%90%86"><span class="toc-number">11.3.</span> <span class="toc-text">布局管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B0%B4%E5%B9%B3%E5%B8%83%E5%B1%80"><span class="toc-number">11.3.1.</span> <span class="toc-text">水平布局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E6%A0%BC%E5%B8%83%E5%B1%80"><span class="toc-number">11.3.2.</span> <span class="toc-text">网格布局</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%89%B2%E6%9D%A1"><span class="toc-number">11.3.3.</span> <span class="toc-text">分割条</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QString%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C"><span class="toc-number">12.</span> <span class="toc-text">QString字符串操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QString%E7%AE%80%E4%BB%8B"><span class="toc-number">12.1.</span> <span class="toc-text">QString简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QString%E5%88%9B%E5%BB%BA%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">12.2.</span> <span class="toc-text">QString创建和初始化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QString%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B4%A2%E5%BC%95"><span class="toc-number">12.3.</span> <span class="toc-text">QString字符串索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QChar%E5%8A%9F%E8%83%BD"><span class="toc-number">12.4.</span> <span class="toc-text">QChar功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QSpinBox%E5%92%8CQDoubleSpinBox"><span class="toc-number">12.5.</span> <span class="toc-text">QSpinBox和QDoubleSpinBox</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%8C%89%E9%92%AE%E6%8C%89%E9%94%AE"><span class="toc-number">12.6.</span> <span class="toc-text">常用按钮按键</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%87%E6%9C%AC"><span class="toc-number">12.7.</span> <span class="toc-text">常用文本</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">12.7.1.</span> <span class="toc-text">常用设置属性的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B"><span class="toc-number">12.7.2.</span> <span class="toc-text">案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QSlider%E5%92%8CQProgressBar%E6%BB%91%E5%8A%A8%E6%9D%A1%E8%BF%9B%E5%BA%A6%E6%9D%A1"><span class="toc-number">12.8.</span> <span class="toc-text">QSlider和QProgressBar滑动条进度条</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%99QProgressBar%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="toc-number">12.8.1.</span> <span class="toc-text">给QProgressBar设置属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B-1"><span class="toc-number">12.8.2.</span> <span class="toc-text">案例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE"><span class="toc-number">13.</span> <span class="toc-text">日期时间数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QTime%E6%8E%A5%E5%8F%A3%E5%87%BD%E6%95%B0"><span class="toc-number">13.1.</span> <span class="toc-text">QTime接口函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QDate%E6%8E%A5%E5%8F%A3%E5%87%BD%E6%95%B0"><span class="toc-number">13.2.</span> <span class="toc-text">QDate接口函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QDateTime%E6%8E%A5%E5%8F%A3%E5%87%BD%E6%95%B0"><span class="toc-number">13.3.</span> <span class="toc-text">QDateTime接口函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fromString%E5%92%8CtoString%E5%87%BD%E6%95%B0"><span class="toc-number">13.4.</span> <span class="toc-text">fromString和toString函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B-2"><span class="toc-number">13.5.</span> <span class="toc-text">案例</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/github.fy/2024/07/21/QT/" title="Qt"><img src="https://t8.baidu.com/it/u=4067589254,2956208776&amp;fm=193" onerror="this.onerror=null;this.src='/github.fy/img/404.jpg'" alt="Qt"/></a><div class="content"><a class="title" href="/github.fy/2024/07/21/QT/" title="Qt">Qt</a><time datetime="2024-07-21T05:50:00.611Z" title="发表于 2024-07-21 13:50:00">2024-07-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/github.fy/2024/07/12/C++/" title="c++"><img src="https://img2.baidu.com/it/u=1339810107,1799612389&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=512&amp;h=328" onerror="this.onerror=null;this.src='/github.fy/img/404.jpg'" alt="c++"/></a><div class="content"><a class="title" href="/github.fy/2024/07/12/C++/" title="c++">c++</a><time datetime="2024-07-12T07:18:51.931Z" title="发表于 2024-07-12 15:18:51">2024-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/github.fy/2024/07/04/esp32%E7%AC%94%E8%AE%B0/" title="esp32"><img src="http://micropython.86x.net/en/latet/_images/esp32.jpg" onerror="this.onerror=null;this.src='/github.fy/img/404.jpg'" alt="esp32"/></a><div class="content"><a class="title" href="/github.fy/2024/07/04/esp32%E7%AC%94%E8%AE%B0/" title="esp32">esp32</a><time datetime="2024-07-04T05:46:02.527Z" title="发表于 2024-07-04 13:46:02">2024-07-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/github.fy/2024/05/25/Verilog%E8%AF%AD%E6%B3%95/" title="verilog语法"><img src="https://picx.zhimg.com/v2-8914ff9e3185a4a0e1ac1f7b037e9cb8_720w.jpg?source=172ae18b" onerror="this.onerror=null;this.src='/github.fy/img/404.jpg'" alt="verilog语法"/></a><div class="content"><a class="title" href="/github.fy/2024/05/25/Verilog%E8%AF%AD%E6%B3%95/" title="verilog语法">verilog语法</a><time datetime="2024-05-25T03:19:49.606Z" title="发表于 2024-05-25 11:19:49">2024-05-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/github.fy/2024/05/24/FPGA%20-%20%E7%82%B9%E4%BA%AE%E7%AC%AC%E4%B8%80%E4%B8%AAled/" title="fpga-点亮第一个led"><img src="https://img1.baidu.com/it/u=2942801448,4270513960&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=281" onerror="this.onerror=null;this.src='/github.fy/img/404.jpg'" alt="fpga-点亮第一个led"/></a><div class="content"><a class="title" href="/github.fy/2024/05/24/FPGA%20-%20%E7%82%B9%E4%BA%AE%E7%AC%AC%E4%B8%80%E4%B8%AAled/" title="fpga-点亮第一个led">fpga-点亮第一个led</a><time datetime="2024-05-24T14:30:05.151Z" title="发表于 2024-05-24 22:30:05">2024-05-24</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://t8.baidu.com/it/u=4067589254,2956208776&amp;fm=193')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 二马山石</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/github.fy/js/utils.js?v=4.13.0"></script><script src="/github.fy/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script id="canvas_nest" defer="defer" color="(0,205,205)" opacity="0.7" zIndex="-1" count="99" mobile="true" src="/github.fy/%5Bobject%20Object%5D"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>