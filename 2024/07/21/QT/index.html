<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Qt | FY的博客</title><meta name="author" content="二马山石"><meta name="copyright" content="二马山石"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. GUI程序">
<meta property="og:type" content="article">
<meta property="og:title" content="Qt">
<meta property="og:url" content="https://fylhg.github.io/github.fy/2024/07/21/QT/index.html">
<meta property="og:site_name" content="FY的博客">
<meta property="og:description" content="Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. GUI程序">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://t8.baidu.com/it/u=4067589254,2956208776&fm=193">
<meta property="article:published_time" content="2024-07-21T05:50:00.611Z">
<meta property="article:modified_time" content="2024-07-21T15:50:25.136Z">
<meta property="article:author" content="二马山石">
<meta property="article:tag" content="Qt">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://t8.baidu.com/it/u=4067589254,2956208776&fm=193"><link rel="shortcut icon" href="/github.fy/img/favicon.png"><link rel="canonical" href="https://fylhg.github.io/github.fy/2024/07/21/QT/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/github.fy/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/github.fy/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Qt',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-07-21 23:50:25'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/github.fy/img/1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/github.fy/archives/"><div class="headline">文章</div><div class="length-num">16</div></a><a href="/github.fy/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/github.fy/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/github.fy/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/github.fy/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/github.fy/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/github.fy/link/"><i class="fa-fw fas fa-link"></i><span> 连接</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://t8.baidu.com/it/u=4067589254,2956208776&amp;fm=193')"><nav id="nav"><span id="blog-info"><a href="/github.fy/" title="FY的博客"><img class="site-icon" src="/github.fy/img/1.jpg"/><span class="site-name">FY的博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/github.fy/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/github.fy/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/github.fy/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/github.fy/link/"><i class="fa-fw fas fa-link"></i><span> 连接</span></a></div><div class="menus_item"><a class="site-page" href="/github.fy/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Qt</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-07-21T05:50:00.611Z" title="发表于 2024-07-21 13:50:00">2024-07-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-07-21T15:50:25.136Z" title="更新于 2024-07-21 23:50:25">2024-07-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/github.fy/categories/Qt/">Qt</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Qt"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="GUI程序结构和运行机制"><a href="#GUI程序结构和运行机制" class="headerlink" title="GUI程序结构和运行机制"></a>GUI程序结构和运行机制</h2><p>新建一个Widget项目：QWidget作为窗口的基类，选中Generate form复选框<br><img src="/github.fy/Qt/3.png"><br><strong>项目管理文件：后缀为,pro</strong><br><img src="/github.fy/Qt/4.png"><br><img src="/github.fy/Qt/5.png"></p>
<h2 id="Qt构建项目的基本原理"><a href="#Qt构建项目的基本原理" class="headerlink" title="Qt构建项目的基本原理"></a>Qt构建项目的基本原理</h2><p><img src="/github.fy/Qt/6.png"></p>
<h2 id="代码化Ui设计"><a href="#代码化Ui设计" class="headerlink" title="代码化Ui设计"></a>代码化Ui设计</h2><p><img src="/github.fy/Qt/1.png"><br>功能实现：</p>
<ul>
<li>Dialog类中的private封装用来维护组件的指针，具体的在堆区创建则在cpp中封装的构造函数中实现</li>
<li>Dialog类中，Qt有自己独特的用来定义私有槽函数的private slots:函数</li>
<li>可以在Dialog中直接写界面，也可以封装成一个函数，保存在类中。（这样的代码风格更好）<br>代码：<br>dialog.h<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> DIALOG_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DIALOG_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QDialog&gt;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QCheckBox</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QPlainTextEdit</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QPushButton</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QRadioButton</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dialog</span> : <span class="keyword">public</span> QDialog</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    QCheckBox *chkBoxUnder;<span class="comment">//定义了一系列的元对象指针</span></span><br><span class="line">    QCheckBox *chkBoxItalic;</span><br><span class="line">    QCheckBox *chkBoxBold;</span><br><span class="line"></span><br><span class="line">    QRadioButton *radioBlack;</span><br><span class="line">    QRadioButton *radioRed;</span><br><span class="line">    QRadioButton *radioBlue;</span><br><span class="line"></span><br><span class="line">    QPlainTextEdit *txtEdit;</span><br><span class="line"></span><br><span class="line">    QPushButton *btnOk;</span><br><span class="line">    QPushButton *btnCancel;</span><br><span class="line">    QPushButton *btnClose;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">checkBoxUnder</span><span class="params">(<span class="type">bool</span> checked)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">checkBoxBold</span><span class="params">(<span class="type">bool</span> checked)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">checkBoxItalic</span><span class="params">(<span class="type">bool</span> checked)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setPalette</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Dialog</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line">    ~<span class="built_in">Dialog</span>();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">// DIALOG_H</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
dialog.cpp<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;dialog.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QHBoxLayout&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QVBoxLayout&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QCheckBox&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QPlainTextEdit&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QPushButton&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;QRadioButton&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dialog::checkBoxUnder</span><span class="params">(<span class="type">bool</span> checked)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QFont font = txtEdit-&gt;<span class="built_in">font</span>();</span><br><span class="line">    font.<span class="built_in">setUnderline</span>(checked);</span><br><span class="line">    txtEdit-&gt;<span class="built_in">setFont</span>(font);</span><br><span class="line">    <span class="comment">//创建好槽函数然后你得用connect关联</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dialog::checkBoxBold</span><span class="params">(<span class="type">bool</span> checked)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QFont font = txtEdit-&gt;<span class="built_in">font</span>();</span><br><span class="line">    font.<span class="built_in">setBold</span>(checked);</span><br><span class="line">    txtEdit-&gt;<span class="built_in">setFont</span>(font);</span><br><span class="line">    <span class="comment">//创建好槽函数然后你得用connect关联</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dialog::checkBoxItalic</span><span class="params">(<span class="type">bool</span> checked)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QFont font = txtEdit-&gt;<span class="built_in">font</span>();</span><br><span class="line">    font.<span class="built_in">setItalic</span>(checked);</span><br><span class="line">    txtEdit-&gt;<span class="built_in">setFont</span>(font);</span><br><span class="line">    <span class="comment">//创建好槽函数然后你得用connect关联</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dialog::setPalette</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    QPalette palette = txtEdit-&gt;<span class="built_in">palette</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(radioBlack-&gt;<span class="built_in">isChecked</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        palette.<span class="built_in">setColor</span>(QPalette::Text,Qt::black);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(radioRed-&gt;<span class="built_in">isChecked</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        palette.<span class="built_in">setColor</span>(QPalette::Text,Qt::red);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(radioBlue-&gt;<span class="built_in">isChecked</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        palette.<span class="built_in">setColor</span>(QPalette::Text,Qt::blue);</span><br><span class="line">    &#125;</span><br><span class="line">    txtEdit-&gt;<span class="built_in">setPalette</span>(palette);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dialog::<span class="built_in">Dialog</span>(QWidget *parent)</span><br><span class="line">    : <span class="built_in">QDialog</span>(parent)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//创建多选框</span></span><br><span class="line">    chkBoxUnder = <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;下划线&quot;</span>);</span><br><span class="line">    chkBoxItalic = <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;倾斜&quot;</span>);</span><br><span class="line">    chkBoxBold = <span class="keyword">new</span> <span class="built_in">QCheckBox</span>(<span class="string">&quot;加粗&quot;</span>);</span><br><span class="line">    <span class="comment">//给多选框设置水平布局</span></span><br><span class="line">    QHBoxLayout *Hlayl = <span class="keyword">new</span> <span class="built_in">QHBoxLayout</span>();</span><br><span class="line">    Hlayl-&gt;<span class="built_in">addWidget</span>(chkBoxUnder);</span><br><span class="line">    Hlayl-&gt;<span class="built_in">addWidget</span>(chkBoxItalic);</span><br><span class="line">    Hlayl-&gt;<span class="built_in">addWidget</span>(chkBoxBold);</span><br><span class="line">    <span class="comment">//创建单选框</span></span><br><span class="line">    radioBlack = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;黑色&quot;</span>);</span><br><span class="line">    radioRed = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;红色&quot;</span>);</span><br><span class="line">    radioBlue = <span class="keyword">new</span> <span class="built_in">QRadioButton</span>(<span class="string">&quot;蓝色&quot;</span>);</span><br><span class="line">    QHBoxLayout *Hlayl1 = <span class="keyword">new</span> <span class="built_in">QHBoxLayout</span>();</span><br><span class="line">    Hlayl1-&gt;<span class="built_in">addWidget</span>(radioBlack);</span><br><span class="line">    Hlayl1-&gt;<span class="built_in">addWidget</span>(radioRed);</span><br><span class="line">    Hlayl1-&gt;<span class="built_in">addWidget</span>(radioBlue);</span><br><span class="line">    <span class="comment">//创建文本矿</span></span><br><span class="line">    txtEdit = <span class="keyword">new</span> <span class="built_in">QPlainTextEdit</span>();</span><br><span class="line">    txtEdit-&gt;<span class="built_in">setPlainText</span>(<span class="string">&quot;手工创建Qt6!!!&quot;</span>);</span><br><span class="line">    QFont font = txtEdit-&gt;<span class="built_in">font</span>();</span><br><span class="line">    font.<span class="built_in">setPointSize</span>(<span class="number">20</span>);<span class="comment">//设置了字体但是还需要启用才可以</span></span><br><span class="line">    txtEdit-&gt;<span class="built_in">setFont</span>(font);<span class="comment">//txtEdit是QPlainTextEdit的一个指针，类中有方法setFont接受一个QFont的引用对文本框的字体进行设计</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建三个按钮</span></span><br><span class="line">    btnOk = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;确认&quot;</span>);</span><br><span class="line">    btnOk-&gt;<span class="built_in">setFixedSize</span>(<span class="number">200</span>,<span class="number">50</span>);</span><br><span class="line">    btnCancel = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;取消&quot;</span>);</span><br><span class="line">    btnCancel-&gt;<span class="built_in">setFixedSize</span>(<span class="number">200</span>,<span class="number">50</span>);</span><br><span class="line">    btnClose = <span class="keyword">new</span> <span class="built_in">QPushButton</span>(<span class="string">&quot;关闭&quot;</span>);</span><br><span class="line">    btnClose-&gt;<span class="built_in">setFixedSize</span>(<span class="number">200</span>,<span class="number">50</span>);</span><br><span class="line">    QHBoxLayout *Hlayl2 = <span class="keyword">new</span> <span class="built_in">QHBoxLayout</span>();<span class="comment">//这三个按键水平布局，Hlayl2就是他们三个的布局</span></span><br><span class="line">    Hlayl2-&gt;<span class="built_in">addWidget</span>(btnOk);</span><br><span class="line">    Hlayl2-&gt;<span class="built_in">addStretch</span>(<span class="number">1</span>);<span class="comment">//调节空白区域的比例</span></span><br><span class="line">    Hlayl2-&gt;<span class="built_in">addWidget</span>(btnClose);</span><br><span class="line">    Hlayl2-&gt;<span class="built_in">addStretch</span>(<span class="number">1</span>);</span><br><span class="line">    Hlayl2-&gt;<span class="built_in">addWidget</span>(btnCancel);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//将上面四部分垂直布局</span></span><br><span class="line">    QVBoxLayout *Vlayl = <span class="keyword">new</span> <span class="built_in">QVBoxLayout</span>();</span><br><span class="line">    Vlayl-&gt;<span class="built_in">addLayout</span>(Hlayl);</span><br><span class="line">    Vlayl-&gt;<span class="built_in">addLayout</span>(Hlayl1);</span><br><span class="line">    Vlayl-&gt;<span class="built_in">addWidget</span>(txtEdit);</span><br><span class="line">    Vlayl-&gt;<span class="built_in">addLayout</span>(Hlayl2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//启用布局</span></span><br><span class="line">    <span class="built_in">setLayout</span>(Vlayl);<span class="comment">//Vlayl中已经存有Hlayl等的布局信息，所以只设置它就可以</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">connect</span>(chkBoxUnder,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">checkBoxUnder</span>(<span class="type">bool</span>)));</span><br><span class="line">    <span class="built_in">connect</span>(chkBoxBold,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">checkBoxBold</span>(<span class="type">bool</span>)));</span><br><span class="line">    <span class="built_in">connect</span>(chkBoxItalic,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">checkBoxItalic</span>(<span class="type">bool</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//给单选框设置信号和槽的关联</span></span><br><span class="line">    <span class="built_in">connect</span>(radioBlack,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">setPalette</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(radioRed,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">setPalette</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(radioBlue,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">setPalette</span>()));</span><br><span class="line">    <span class="comment">//给按键绑定</span></span><br><span class="line">    <span class="built_in">connect</span>(btnOk,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">accept</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(btnCancel,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">reject</span>()));</span><br><span class="line">    <span class="built_in">connect</span>(btnClose,<span class="built_in">SIGNAL</span>(<span class="built_in">clicked</span>(<span class="type">bool</span>)),<span class="keyword">this</span>,<span class="built_in">SLOT</span>(<span class="built_in">close</span>()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Dialog::~<span class="built_in">Dialog</span>() &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="CMake构建项目"><a href="#CMake构建项目" class="headerlink" title="CMake构建项目"></a>CMake构建项目</h3><p><img src="/github.fy/Qt/2.png"><br>CMakeLists.txt的内容一般不需要我们手动修改，项目中新增文件的时候会自动更新文件列表，<br>只有用到某个模块的时候，才需要编写find_package()和target_link_libraries()<br>CMakeLists.txt文件：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cmake_minimum_required</span>(VERSION <span class="number">3.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">project</span>(samp5 VERSION <span class="number">0.1</span> LANGUAGES CXX)</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(CMAKE_AUTOUIC ON) # UIC能被自动执行</span><br><span class="line"><span class="built_in">set</span>(CMAKE_AUTOMOC ON) # MOC能被自动执行</span><br><span class="line"><span class="built_in">set</span>(CMAKE_AUTORCC ON) # RCC能被自动执行</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD <span class="number">17</span>) # 设置编译器需要满足C++语言标准，设为<span class="number">17</span></span><br><span class="line"><span class="built_in">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON) # 要求编译满足C++标准</span><br><span class="line"></span><br><span class="line"><span class="built_in">find_package</span>(QT NAMES Qt6 Qt5 REQUIRED COMPONENTS Widgets)</span><br><span class="line"><span class="built_in">find_package</span>(Qt$&#123;QT_VERSION_MAJOR&#125; REQUIRED COMPONENTS Widgets)# 导入Qt6::Widgets模块</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>(PROJECT_SOURCES# 设置变量等于下面的列表 源文件列表</span><br><span class="line">        main.cpp</span><br><span class="line">        dialog.cpp</span><br><span class="line">        dialog.h</span><br><span class="line">        dialog.ui</span><br><span class="line">        # 如果有资源文件的话在这里添加res.qrc</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>($&#123;QT_VERSION_MAJOR&#125; GREATER_EQUAL <span class="number">6</span>)# 如果是Qt6以上版本</span><br><span class="line">    <span class="built_in">qt_add_executable</span>(samp5            # 创建可执行文件</span><br><span class="line">        MANUAL_FINALIZATION            # 可选参数，手动结束创建目标文件的过程</span><br><span class="line">        $&#123;PROJECT_SOURCES&#125;             # 文件列表来源于变量 PROJECT_SOURCES</span><br><span class="line">    )</span><br><span class="line"># Define target properties <span class="keyword">for</span> Android with Qt <span class="number">6</span> as:</span><br><span class="line">#    <span class="built_in">set_property</span>(TARGET samp5 APPEND PROPERTY QT_ANDROID_PACKAGE_SOURCE_DIR</span><br><span class="line">#                 $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/android)</span><br><span class="line"># For more information, see https:<span class="comment">//doc.qt.io/qt-6/qt-add-executable.html#target-creation</span></span><br><span class="line"><span class="keyword">else</span>()</span><br><span class="line">    <span class="keyword">if</span>(ANDROID)</span><br><span class="line">        <span class="built_in">add_library</span>(samp5 SHARED</span><br><span class="line">            $&#123;PROJECT_SOURCES&#125;</span><br><span class="line">        )</span><br><span class="line"># Define properties <span class="keyword">for</span> Android with Qt <span class="number">5</span> after <span class="built_in">find_package</span>() calls as:</span><br><span class="line"><span class="meta">#    set(ANDROID_PACKAGE_SOURCE_DIR <span class="string">&quot;$&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/android&quot;</span>)</span></span><br><span class="line">    <span class="built_in">else</span>()</span><br><span class="line">        <span class="built_in">add_executable</span>(samp5</span><br><span class="line">            $&#123;PROJECT_SOURCES&#125;</span><br><span class="line">        )</span><br><span class="line">    <span class="built_in">endif</span>()</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br><span class="line"><span class="built_in">target_link_libraries</span>(samp5 PRIVATE Qt$&#123;QT_VERSION_MAJOR&#125;::Widgets)#加载的模块</span><br><span class="line"></span><br><span class="line"># Qt <span class="keyword">for</span> iOS sets MACOSX_BUNDLE_GUI_IDENTIFIER automatically since Qt <span class="number">6.1</span>.</span><br><span class="line"># If you are developing <span class="keyword">for</span> iOS <span class="keyword">or</span> macOS you should consider setting an</span><br><span class="line"><span class="meta"># explicit, fixed bundle identifier manually though.</span></span><br><span class="line"><span class="keyword">if</span>($&#123;QT_VERSION&#125; VERSION_LESS <span class="number">6.1</span><span class="number">.0</span>)</span><br><span class="line">  <span class="built_in">set</span>(BUNDLE_ID_OPTION MACOSX_BUNDLE_GUI_IDENTIFIER com.example.samp5)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"><span class="built_in">set_target_properties</span>(samp5 PROPERTIES</span><br><span class="line">    $&#123;BUNDLE_ID_OPTION&#125;</span><br><span class="line">    MACOSX_BUNDLE_BUNDLE_VERSION $&#123;PROJECT_VERSION&#125;</span><br><span class="line">    MACOSX_BUNDLE_SHORT_VERSION_STRING $&#123;PROJECT_VERSION_MAJOR&#125;.$&#123;PROJECT_VERSION_MINOR&#125;</span><br><span class="line">    MACOSX_BUNDLE TRUE</span><br><span class="line">    WIN32_EXECUTABLE TRUE</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">include</span>(GNUInstallDirs)</span><br><span class="line"><span class="built_in">install</span>(TARGETS samp5</span><br><span class="line">    BUNDLE DESTINATION .</span><br><span class="line">    LIBRARY DESTINATION $&#123;CMAKE_INSTALL_LIBDIR&#125;</span><br><span class="line">    RUNTIME DESTINATION $&#123;CMAKE_INSTALL_BINDIR&#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(QT_VERSION_MAJOR EQUAL <span class="number">6</span>)</span><br><span class="line">    <span class="built_in">qt_finalize_executable</span>(samp5)</span><br><span class="line"><span class="built_in">endif</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="使用cmake-gui生成VS项目"><a href="#使用cmake-gui生成VS项目" class="headerlink" title="使用cmake-gui生成VS项目"></a>使用cmake-gui生成VS项目</h2><p><img src="/github.fy/Qt/7.png"></p>
<h2 id="Qt类库的模块"><a href="#Qt类库的模块" class="headerlink" title="Qt类库的模块"></a>Qt类库的模块</h2><p>Qt类中的模块分为两大类：</p>
<ul>
<li>Qt 基本模块（Qt Essentials）：提供了Qt在所有平台上的基本功能</li>
<li>Qt 附加模块（Qt Add-Ons）:实现一些特定功能的模块<br><img src="/github.fy/Qt/8.png"><br>其他模块都依赖于Qt core模块，使用qmake构建gui项目时，qmake项目配置文件中会自动加入如下代码：<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QT += core gui</span><br></pre></td></tr></table></figure>
其他模块一般不会自动加入，需要自行配置<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QT += 模块名字</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Qt中数据类型定义"><a href="#Qt中数据类型定义" class="headerlink" title="Qt中数据类型定义"></a>Qt中数据类型定义</h2><p>数据类型定义：<br><img src="/github.fy/Qt/9.png"></p>
<h2 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h2><p><img src="/github.fy/Qt/10.png"></p>
<h2 id="Qt元对象系统"><a href="#Qt元对象系统" class="headerlink" title="Qt元对象系统"></a>Qt元对象系统</h2><p>Qt中引入了元对象系统对标准c++语言进行了拓展。<br><code>概述:</code></p>
<ul>
<li>QObject类是所有元对象系统的类的基类</li>
<li>必须在一个类的开头部分插入Q_OBJECT，才可以使用元对象系统的特性。当MOC发现类中定义了Q_OJECT宏时，会为其生成相应的c++源文件。</li>
<li>元对象编译器（Mata-Object Compiler,MOC）是一个预处理器，现将Qt的特性程序转化为标准的c++程序，在由标准c++编译器进行编译</li>
</ul>
<p><code>QObject类</code><br>-元对象(meta object):<strong>每个使用了Q_OBJECT并且继承QObject类都有一个QMetaObject实例</strong>，函数metaObject()可以返回它的指针。</p>
<ul>
<li>类型信息:QObject的inherits()函数可以判断继承关系。</li>
<li>动态翻译:函数tr()返回一个字符串的翻译版本。</li>
<li>对象树:表示对象间从属关系的树状结构。QObject提供了parent()、children()、findChildren()等函数。对象树中的某个对象被删除时,它的子对象也将被删除。</li>
<li>信号和槽:对象间的通信机制。</li>
<li>属性系统:可以使用宏Q_PROPERTY定义属性,QObject的setProperty()会设置属性的值或定义动态属性;property函数会返回属性的值。<br><code>QMetaObject类</code></li>
<li>元对象是对类的描述，包含类的方法、信息、属性等元数据</li>
<li>QObject和QMetaObject提供了一下函数接口，可以获取运行时类型信息，类似标准c++中的RTTI(run time type information)<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;widget.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QApplication&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//QWidget 继承了 QObject</span></span><br><span class="line">    <span class="comment">//Wideget 继承了 QWidget 并使用了Q_OBJECT宏后会拥有一个MetaObject元对象实例</span></span><br><span class="line">    <span class="function">QApplication <span class="title">a</span><span class="params">(argc, argv)</span></span>;</span><br><span class="line">    QObject *btn = <span class="keyword">new</span> QPushButton;<span class="comment">//btn-&gt;metaObject()是一个指向元对象的指针</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;btn-&gt;<span class="built_in">metaObject</span>()-&gt;<span class="built_in">className</span>();<span class="comment">//className是元对象的方法</span></span><br><span class="line"></span><br><span class="line">    QPushButton *btnPush = <span class="built_in">qobject_cast</span>&lt;QPushButton*&gt;(btn);<span class="comment">//将父类的指针转化为子类</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;btnPush-&gt;<span class="built_in">metaObject</span>()-&gt;<span class="built_in">className</span>();</span><br><span class="line"></span><br><span class="line">    QTimer *timer = <span class="keyword">new</span> QTimer;</span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;timer-&gt;<span class="built_in">inherits</span>(<span class="string">&quot;QTimer&quot;</span>);<span class="comment">//true</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;timer-&gt;<span class="built_in">inherits</span>(<span class="string">&quot;QObject&quot;</span>);<span class="comment">//true</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;timer-&gt;<span class="built_in">inherits</span>(<span class="string">&quot;QPushButton&quot;</span>);<span class="comment">//false</span></span><br><span class="line">    <span class="comment">//superClass返回父类的元对象</span></span><br><span class="line">    <span class="built_in">qDebug</span>()&lt;&lt;btn-&gt;<span class="built_in">metaObject</span>()-&gt;<span class="built_in">superClass</span>()-&gt;<span class="built_in">className</span>();</span><br><span class="line">    Widget w;</span><br><span class="line">    w.<span class="built_in">show</span>();</span><br><span class="line">    <span class="keyword">return</span> a.<span class="built_in">exec</span>();<span class="comment">//启动程序，并开启消息循环和事件处理</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://fylhg.github.io/github.fy">二马山石</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://fylhg.github.io/github.fy/2024/07/21/QT/">https://fylhg.github.io/github.fy/2024/07/21/QT/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://fylhg.github.io/github.fy" target="_blank">FY的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/github.fy/tags/Qt/">Qt</a></div><div class="post_share"><div class="social-share" data-image="https://t8.baidu.com/it/u=4067589254,2956208776&amp;fm=193" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/github.fy/2024/07/12/C++/" title="c++"><img class="cover" src="https://img2.baidu.com/it/u=1339810107,1799612389&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=512&amp;h=328" onerror="onerror=null;src='/github.fy/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">c++</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/github.fy/img/1.jpg" onerror="this.onerror=null;this.src='/github.fy/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">二马山石</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/github.fy/archives/"><div class="headline">文章</div><div class="length-num">16</div></a><a href="/github.fy/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/github.fy/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#GUI%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84%E5%92%8C%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="toc-number">1.</span> <span class="toc-text">GUI程序结构和运行机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt%E6%9E%84%E5%BB%BA%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">Qt构建项目的基本原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%8C%96Ui%E8%AE%BE%E8%AE%A1"><span class="toc-number">3.</span> <span class="toc-text">代码化Ui设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#CMake%E6%9E%84%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">3.1.</span> <span class="toc-text">CMake构建项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8cmake-gui%E7%94%9F%E6%88%90VS%E9%A1%B9%E7%9B%AE"><span class="toc-number">4.</span> <span class="toc-text">使用cmake-gui生成VS项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt%E7%B1%BB%E5%BA%93%E7%9A%84%E6%A8%A1%E5%9D%97"><span class="toc-number">5.</span> <span class="toc-text">Qt类库的模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt%E4%B8%AD%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">6.</span> <span class="toc-text">Qt中数据类型定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8F%E5%AE%9A%E4%B9%89"><span class="toc-number">7.</span> <span class="toc-text">宏定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Qt%E5%85%83%E5%AF%B9%E8%B1%A1%E7%B3%BB%E7%BB%9F"><span class="toc-number">8.</span> <span class="toc-text">Qt元对象系统</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/github.fy/2024/07/21/QT/" title="Qt"><img src="https://t8.baidu.com/it/u=4067589254,2956208776&amp;fm=193" onerror="this.onerror=null;this.src='/github.fy/img/404.jpg'" alt="Qt"/></a><div class="content"><a class="title" href="/github.fy/2024/07/21/QT/" title="Qt">Qt</a><time datetime="2024-07-21T05:50:00.611Z" title="发表于 2024-07-21 13:50:00">2024-07-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/github.fy/2024/07/12/C++/" title="c++"><img src="https://img2.baidu.com/it/u=1339810107,1799612389&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=512&amp;h=328" onerror="this.onerror=null;this.src='/github.fy/img/404.jpg'" alt="c++"/></a><div class="content"><a class="title" href="/github.fy/2024/07/12/C++/" title="c++">c++</a><time datetime="2024-07-12T07:18:51.931Z" title="发表于 2024-07-12 15:18:51">2024-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/github.fy/2024/07/04/esp32%E7%AC%94%E8%AE%B0/" title="esp32"><img src="http://micropython.86x.net/en/latet/_images/esp32.jpg" onerror="this.onerror=null;this.src='/github.fy/img/404.jpg'" alt="esp32"/></a><div class="content"><a class="title" href="/github.fy/2024/07/04/esp32%E7%AC%94%E8%AE%B0/" title="esp32">esp32</a><time datetime="2024-07-04T05:46:02.527Z" title="发表于 2024-07-04 13:46:02">2024-07-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/github.fy/2024/05/25/Verilog%E8%AF%AD%E6%B3%95/" title="verilog语法"><img src="https://picx.zhimg.com/v2-8914ff9e3185a4a0e1ac1f7b037e9cb8_720w.jpg?source=172ae18b" onerror="this.onerror=null;this.src='/github.fy/img/404.jpg'" alt="verilog语法"/></a><div class="content"><a class="title" href="/github.fy/2024/05/25/Verilog%E8%AF%AD%E6%B3%95/" title="verilog语法">verilog语法</a><time datetime="2024-05-25T03:19:49.606Z" title="发表于 2024-05-25 11:19:49">2024-05-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/github.fy/2024/05/24/FPGA%20-%20%E7%82%B9%E4%BA%AE%E7%AC%AC%E4%B8%80%E4%B8%AAled/" title="fpga-点亮第一个led"><img src="https://img1.baidu.com/it/u=2942801448,4270513960&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=281" onerror="this.onerror=null;this.src='/github.fy/img/404.jpg'" alt="fpga-点亮第一个led"/></a><div class="content"><a class="title" href="/github.fy/2024/05/24/FPGA%20-%20%E7%82%B9%E4%BA%AE%E7%AC%AC%E4%B8%80%E4%B8%AAled/" title="fpga-点亮第一个led">fpga-点亮第一个led</a><time datetime="2024-05-24T14:30:05.151Z" title="发表于 2024-05-24 22:30:05">2024-05-24</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://t8.baidu.com/it/u=4067589254,2956208776&amp;fm=193')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 二马山石</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/github.fy/js/utils.js?v=4.13.0"></script><script src="/github.fy/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script id="canvas_nest" defer="defer" color="(0,205,205)" opacity="0.7" zIndex="-1" count="99" mobile="true" src="/github.fy/%5Bobject%20Object%5D"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>